/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scripts/api/details.js":
/*!************************************!*\
  !*** ./src/scripts/api/details.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDetails: () => (/* binding */ getDetails)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _seasons_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./seasons.js */ \"./src/scripts/api/seasons.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/watch-sections.js */ \"./src/scripts/store/watch-sections.js\");\n\n\n\n\n\n\nasync function format(item, type) {\n    if (item && item.poster_path) {\n        const dateString = item.release_date || item.first_air_date;\n        const date = new Date(dateString);\n\n        const cast = (item.credits?.cast || [])\n            .filter((p) => p.name && p.character && p.profile_path)\n            .map(function (person) {\n                return {\n                    name: person.name,\n                    character: person.character,\n                    image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(person.profile_path, \"cast\"),\n                    url: (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.getSearchUrl)(person.name)\n                };\n            });\n\n        const reviews = (item.reviews?.results || [])\n            .filter((r) => r.url)\n            .map(function (review) {\n                let content = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.cleanText)(review.content);\n                content = content.length > _config_js__WEBPACK_IMPORTED_MODULE_3__.config.maxReviewContentLength\n                    ? content.substring(0, _config_js__WEBPACK_IMPORTED_MODULE_3__.config.maxReviewContentLength).replace(/\\s+\\S*$/, \"...\")\n                    : content;\n\n                return {\n                    author: review.author,\n                    avatar: review.author_details?.avatar_path ? (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(review.author_details.avatar_path, \"avatar\") : null,\n                    content,\n                    rating: review.author_details?.rating ? (Math.round(review.author_details.rating) / 2).toString() : null,\n                    url: review.url\n                };\n            })\n            .sort((a, b) => {\n                if (a.rating === null && b.rating !== null) return 1;\n                if (b.rating === null && a.rating !== null) return -1;\n                return 0;\n            });\n\n        const genres = (item.genres || [])\n            .filter((g) => g.name)\n            .map((g) => g.name);\n\n        let seasons = [];\n        \n        if ((0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(\"Video\") || (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(\"Seasons\")) seasons = await Promise.all((item.seasons || [])\n            .filter((s) => s.season_number > 0 && s.episode_count > 0)\n            .map(async function (season) {\n                return (0,_seasons_js__WEBPACK_IMPORTED_MODULE_2__.getSeason)(item.id, season.season_number);\n            }));\n\n        const recommendations = (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sortByPopularity)(item.recommendations?.results || [])\n            .filter((r) => r.poster_path && r.media_type === type)\n            .splice(0, _config_js__WEBPACK_IMPORTED_MODULE_3__.config.recommendations.amount)\n            .map(function (recommendation) {\n                return {\n                    id: recommendation.id?.toString(),\n                    type,\n                    title: recommendation.title || recommendation.name,\n                    image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(recommendation.poster_path, \"poster\"),\n                };\n            });\n        \n        return {\n            id: item.id?.toString(),\n            imdbId: item.imdb_id ? item.imdb_id.toString() : item.id?.toString(),\n            type,\n            title: item.title || item.name,\n            description: item.overview || item.description,\n            image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.poster_path, \"poster\"),\n            date: dateString ? date.toLocaleDateString(\"en-US\", { month: \"long\", day: \"numeric\", year: \"numeric\" }) : null,\n            language: item.spoken_languages?.find((l) => l?.iso_639_1 === item.original_language)?.english_name,\n            rating: (Math.round(item.vote_average) / 2).toString(),\n            stars: (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.shortenNumber)(item.vote_count, 1),\n            cast,\n            reviews,\n            genres,\n            seasons,\n            recommendations\n        };\n    }\n\n    return null;\n}\n\nasync function getDetails(type = \"movie\", id) {    \n    let append_to_response = [];\n\n    if ((0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(\"Cast\")) append_to_response.push(\"credits\");\n    if ((0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(\"Reviews\")) append_to_response.push(\"reviews\");\n    if ((0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(\"Recommendations\")) append_to_response.push(\"recommendations\");\n\n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`${type}/${id}`, append_to_response.length > 0 ? { append_to_response: append_to_response.join(\",\") } : undefined);\n    const json = format(response, type);\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/details.js?");

/***/ }),

/***/ "./src/scripts/api/genres.js":
/*!***********************************!*\
  !*** ./src/scripts/api/genres.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGenres: () => (/* binding */ getGenres)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n\n\n\nasync function getGenres(type = \"movie\") {\n    const cacheName = `genres-${type}`;\n    const cache = (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.getCache)(cacheName);\n\n    if (cache) return cache;\n    \n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`genre/${type}/list`);\n    const json = response?.genres;\n\n    (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.setCache)(cacheName, json);\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/genres.js?");

/***/ }),

/***/ "./src/scripts/api/languages.js":
/*!**************************************!*\
  !*** ./src/scripts/api/languages.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLanguages: () => (/* binding */ getLanguages)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n\n\n\n\nfunction format(json) {\n    let result = json\n        ? json.filter((l) => (l.english_name && l.iso_639_1 && l.iso_639_1 !== \"xx\")).map(function (language) {\n            return {\n                name: language.english_name,\n                value: language.iso_639_1\n            };\n        })\n        : null;\n\n    return (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sortAlphabetically)(result, \"name\");\n}\n\nasync function getLanguages() {\n    const cacheName = \"languages\";\n    const cache = (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.getCache)(cacheName);\n\n    if (cache) return cache;\n    \n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(\"configuration/languages\");\n    const json = format(response);\n\n    (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.setCache)(cacheName, json);\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/languages.js?");

/***/ }),

/***/ "./src/scripts/api/main.js":
/*!*********************************!*\
  !*** ./src/scripts/api/main.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getApiUrl: () => (/* binding */ getApiUrl),\n/* harmony export */   getImageUrl: () => (/* binding */ getImageUrl),\n/* harmony export */   sendRequest: () => (/* binding */ sendRequest),\n/* harmony export */   sortAlphabetically: () => (/* binding */ sortAlphabetically),\n/* harmony export */   sortByPopularity: () => (/* binding */ sortByPopularity)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _store_adult_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/adult.js */ \"./src/scripts/store/adult.js\");\n/* harmony import */ var _store_language_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/language.js */ \"./src/scripts/store/language.js\");\n\n\n\n\nfunction getApiUrl() {\n    return `${_config_js__WEBPACK_IMPORTED_MODULE_0__.api.url}/${_config_js__WEBPACK_IMPORTED_MODULE_0__.api.version}`;\n}\n\nfunction getImageUrl(path, type = \"poster\") {\n    return path ? `${_config_js__WEBPACK_IMPORTED_MODULE_0__.api.image.url}/${_config_js__WEBPACK_IMPORTED_MODULE_0__.api.image[type]}${path}` : null;\n}\n\nfunction sortByPopularity(obj) {\n    return obj.sort((a, b) => b.popularity - a.popularity);\n}\n\nfunction sortAlphabetically(obj, key) {\n    return obj.sort(function (a, b) {\n        if (a[key] < b[key]) return -1;\n        if (a[key] > b[key]) return 1;\n        return 0;\n    });\n}\n\nasync function sendRequest(path, parameters = {}, method = \"GET\") {\n    const apiUrl = getApiUrl();\n    const url = new URL(`${apiUrl}/${path}`);\n\n    url.searchParams.append(\"api_key\", _config_js__WEBPACK_IMPORTED_MODULE_0__.api.key);\n    url.searchParams.append(\"language\", (0,_store_language_js__WEBPACK_IMPORTED_MODULE_2__.getLanguage)());\n    url.searchParams.append(\"include_adult\", (0,_store_adult_js__WEBPACK_IMPORTED_MODULE_1__.getAdult)() === \"show\");\n\n    Object.entries(parameters).forEach(([key, value]) => {\n        url.searchParams.append(key, value);\n    });\n\n    let response;\n\n    try { response = await fetch(url, { method, headers : { accept: \"application/json\" } }) }\n    catch { return };\n\n    if (response.status !== 200) return;\n\n    let json;\n\n    try { json = await response.json() }\n    catch { return };\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/main.js?");

/***/ }),

/***/ "./src/scripts/api/new.js":
/*!********************************!*\
  !*** ./src/scripts/api/new.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNew: () => (/* binding */ getNew)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n\n\n\nfunction format(obj, type) {\n    return obj\n        ? obj.filter((i) => i.poster_path).map(function (item) {\n            return {\n                id: item.id?.toString(),\n                type,\n                title: item.title || item.name,\n                image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.poster_path, \"poster\"),\n                date: item.release_date || item.first_air_date\n            };\n        })\n        : null;\n}\n\nasync function getNew(type = \"movie\", genre) {\n    const cacheName = `new-${type}`;\n    const cache = (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.getCache)(cacheName);\n\n    if (cache && !genre) return cache;\n    \n    const date = new Date();\n    const formattedDateNow = date.toISOString().split(\"T\")[0];\n    \n    date.setMonth(date.getMonth() - 5);\n    const formattedDate = date.toISOString().split(\"T\")[0];\n    \n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`discover/${type}`, {\n        sort_by: \"popularity.desc\",\n        ...(genre && { with_genres: genre }),\n        \"primary_release_date.gte\": formattedDate,\n        \"primary_release_date.lte\": formattedDateNow,\n        \"first_air_date.gte\": formattedDate,\n        \"first_air_date.lte\": formattedDateNow\n    });\n    \n    const json = format(response?.results, type);\n\n    if (!genre) {\n        (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.setCache)(cacheName, json);\n    }\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/new.js?");

/***/ }),

/***/ "./src/scripts/api/proxy.js":
/*!**********************************!*\
  !*** ./src/scripts/api/proxy.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidProxy: () => (/* binding */ isValidProxy),\n/* harmony export */   isValidUrl: () => (/* binding */ isValidUrl)\n/* harmony export */ });\nasync function isValidProxy(proxy) {\n    try { await fetch(proxy.base) }\n    catch { return false };\n\n    return true;\n}\n\nasync function isValidUrl(proxy, url) {\n    let response;\n\n    try { response = await fetch(proxy.url(url)) }\n    catch {};\n\n    return response\n        ? response.status === 200\n        : true;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/proxy.js?");

/***/ }),

/***/ "./src/scripts/api/rated.js":
/*!**********************************!*\
  !*** ./src/scripts/api/rated.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRated: () => (/* binding */ getRated)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n\n\n\n\nfunction format(obj, type) {\n    return obj\n        ? obj.filter((i) => i.poster_path).map(function (item) {\n            return {\n                id: item.id?.toString(),\n                type,\n                title: item.title || item.name,\n                image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.poster_path, \"poster\"),\n                rating: (Math.round(item.vote_average) / 2).toString(),\n                stars: (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.shortenNumber)(item.vote_count)\n            };\n        })\n        : null;\n}\n\nasync function getRated(type = \"movie\", genre) {\n    const cacheName = `rated-${type}`;\n    const cache = (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.getCache)(cacheName);\n\n    if (cache && !genre) return cache;\n    \n    const date = new Date();\n    const formattedDateNow = date.toISOString().split(\"T\")[0];\n    \n    date.setFullYear(date.getFullYear() - 5);\n    const formattedDate = date.toISOString().split(\"T\")[0];\n    \n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`discover/${type}`, {\n        sort_by: \"vote_count.desc\",\n        ...(genre && { with_genres: genre }),\n        \"vote_average.gte\": \"7\",\n        \"primary_release_date.gte\": formattedDate,\n        \"primary_release_date.lte\": formattedDateNow,\n        \"first_air_date.gte\": formattedDate,\n        \"first_air_date.lte\": formattedDateNow\n    });\n    \n    const json = format(response?.results, type);\n\n    if (!genre) {\n        (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.setCache)(cacheName, json);\n    }\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/rated.js?");

/***/ }),

/***/ "./src/scripts/api/search.js":
/*!***********************************!*\
  !*** ./src/scripts/api/search.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSearchResults: () => (/* binding */ getSearchResults)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n\n\n\nfunction format(obj, query) {\n    let result = obj\n        ? (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sortByPopularity)(obj).filter((i) => i.poster_path && [\"movie\", \"tv\"].includes(i.media_type)).map(function (item) {\n            const dateString = item.release_date || item.first_air_date;\n            const date = new Date(dateString);\n\n            return {\n                id: item.id?.toString(),\n                type: item.media_type,\n                title: item.title || item.name,\n                image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.poster_path, \"poster\"),\n                date: dateString ? `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, \"0\")}` : null,\n                rating: (Math.round(item.vote_average) / 2).toString(),\n                stars: (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.shortenNumber)(item.vote_count, 1)\n            };\n        })\n        : null;\n\n    if (result) {\n        const matchIndex = result.findIndex((i) => i.title.toLowerCase() === query.toLowerCase());\n\n        if (matchIndex !== -1) {\n            const match = result.splice(matchIndex, 1)[0];\n            result.unshift(match);\n        }\n    }\n\n    return result;\n}\n\nasync function getSearchResults(query) {\n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`search/multi`, { query });\n    const json = format(response?.results, query);\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/search.js?");

/***/ }),

/***/ "./src/scripts/api/seasons.js":
/*!************************************!*\
  !*** ./src/scripts/api/seasons.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSeason: () => (/* binding */ getSeason)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\n\n\nfunction format(item) {\n    if (item) {\n        const episodes = (item.episodes || [])\n            .map(function (episode) {\n                let description = episode.overview || episode.description;\n                if (description) description = description.length > _config_js__WEBPACK_IMPORTED_MODULE_2__.config.maxDescriptionLength\n                    ? description.substring(0, _config_js__WEBPACK_IMPORTED_MODULE_2__.config.maxDescriptionLength).replace(/\\s+\\S*$/, \"...\")\n                    : description;\n\n                return {\n                    number: episode.episode_number,\n                    numberPadded: episode.episode_number.toString().padStart(2, \"0\"),\n                    name: episode.name,\n                    description,\n                    image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(episode.still_path, \"episode\"),\n                    time: episode.runtime ? (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.convertMinutesToText)(episode.runtime) : null\n                };\n            });\n\n        return {\n            number: item.season_number,\n            numberPadded: item.season_number.toString().padStart(2, \"0\"),\n            episodes\n        };\n    } else {\n        return null;\n    }\n}\n\nasync function getSeason(id, number) {\n    const response = await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`tv/${id}/season/${number}`);\n    const json = format(response);\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/seasons.js?");

/***/ }),

/***/ "./src/scripts/api/trending.js":
/*!*************************************!*\
  !*** ./src/scripts/api/trending.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTrending: () => (/* binding */ getTrending)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/scripts/api/main.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\n\n\n\nfunction format(obj, type, genre) {\n    return obj\n        ? (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sortByPopularity)(obj).filter((i) => i.poster_path && i.backdrop_path).map(function (item, index) {\n            const dateString = item.release_date || item.first_air_date;\n            const date = new Date(dateString);\n\n            let description = item.overview || item.description;\n            if (description) description = description.length > _config_js__WEBPACK_IMPORTED_MODULE_3__.config.maxDescriptionLength\n                ? description.substring(0, _config_js__WEBPACK_IMPORTED_MODULE_3__.config.maxDescriptionLength).replace(/\\s+\\S*$/, \"...\")\n                : description;\n\n            return (!genre && index < _config_js__WEBPACK_IMPORTED_MODULE_3__.config.carousel.amount)\n                ? {\n                    id: item.id?.toString(),\n                    type,\n                    title: item.title || item.name,\n                    description,\n                    backdrop: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.backdrop_path, \"backdrop\")\n                }\n                : {\n                    id: item.id?.toString(),\n                    type,\n                    title: item.title || item.name,\n                    image: (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.getImageUrl)(item.poster_path, \"poster\"),\n                    date: dateString ? `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, \"0\")}` : null,\n                    rating: (Math.round(item.vote_average) / 2).toString(),\n                    stars: (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.shortenNumber)(item.vote_count, 1)\n                };\n        })\n        : null;\n}\n\nasync function getTrending(type = \"movie\", genre) {\n    const cacheName = `trending-${type}`;\n    const cache = (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.getCache)(cacheName);\n\n    if (cache && !genre) return cache;\n\n    const date = new Date();\n    const formattedDateNow = date.toISOString().split(\"T\")[0];\n    \n    date.setFullYear(date.getFullYear() - 5);\n    const formattedDate = date.toISOString().split(\"T\")[0];\n    \n    const response = genre\n        ?  await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`discover/${type}`, {\n                sort_by: \"popularity.desc\",\n                ...(genre && { with_genres: genre }),\n                \"primary_release_date.gte\": formattedDate,\n                \"primary_release_date.lte\": formattedDateNow,\n                \"first_air_date.gte\": formattedDate,\n                \"first_air_date.lte\": formattedDateNow\n            })\n        : await (0,_main_js__WEBPACK_IMPORTED_MODULE_0__.sendRequest)(`trending/${type}/${_config_js__WEBPACK_IMPORTED_MODULE_3__.api.trending.timeWindow}`);\n\n    const json = format(response?.results, type, genre);\n\n    if (!genre) {\n        (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.setCache)(cacheName, json);\n    }\n\n    return json;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/api/trending.js?");

/***/ }),

/***/ "./src/scripts/cache.js":
/*!******************************!*\
  !*** ./src/scripts/cache.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCache: () => (/* binding */ getCache),\n/* harmony export */   getNonCachedImages: () => (/* binding */ getNonCachedImages),\n/* harmony export */   initializeCache: () => (/* binding */ initializeCache),\n/* harmony export */   isDeletable: () => (/* binding */ isDeletable),\n/* harmony export */   preloadImages: () => (/* binding */ preloadImages),\n/* harmony export */   resetCache: () => (/* binding */ resetCache),\n/* harmony export */   setCache: () => (/* binding */ setCache),\n/* harmony export */   unloadImages: () => (/* binding */ unloadImages)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ \"./src/scripts/config.js\");\n\n\nlet cache;\nlet cachedImages = [];\n\nfunction imageExists(url) {\n    return Array.from(cache.children).some((i) => i.src == url);\n}\n\nfunction initializeCache() {\n    cache = document.createElement(\"cache\");\n    document.body.append(cache);\n}\n\nfunction isDeletable(image) {\n    return !cachedImages.includes(image);\n}\n\nasync function preloadImages(images, onAmount, save) {\n    if (save) cachedImages.push(...images);\n    let count = 0;\n\n    async function loadImage(url) {\n        return new Promise(function (resolve) {\n            function checkCount() {\n                if (count >= (onAmount || images.length)) {\n                    resolve();\n                }\n            }\n\n            function incrementCount() {\n                count++;\n                resolve();\n            }\n            \n            if (imageExists(url) || url === undefined || url === null) {\n                incrementCount();\n            } else {\n                const image = document.createElement(\"img\");\n\n                image.addEventListener(\"load\", incrementCount);\n                image.addEventListener(\"error\", incrementCount);\n\n                image.src = url;\n                image.alt = \"cache\";\n\n                cache.append(image);\n                checkCount();\n            }\n        });\n    }\n    \n    await Promise.all(images.map(loadImage));\n}\n\nfunction getNonCachedImages(images) {\n    return images.filter(function (url) {\n        const image = document.querySelector(`cache img[src=\"${url}\"]`);\n        return !image;\n    });\n}\n\nfunction unloadImages(images, clean) {\n    if (clean) cachedImages = cachedImages.filter((u) => !images.includes(u));\n\n    for (const url of images) {\n        const image = document.querySelector(`cache img[src=\"${url}\"]`);\n        if (image) image.remove();\n    }\n}\n\nfunction setCache(key, value) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.cache(key), JSON.stringify({ d: Date.now(), v: value }));\n}\n\nfunction getCache(key, max = _config_js__WEBPACK_IMPORTED_MODULE_0__.config.maxCacheDays) {\n    const cache = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.cache(key));\n\n    if (cache) {\n        let json;\n\n        try { json = JSON.parse(cache) }\n        catch { return };\n\n        const diff = Date.now() - json.d;\n        const daysDiff = Math.floor(diff / (1000 * 60 * 60 * 24));\n\n        if (daysDiff < max) {\n            return json.v;\n        }\n    }\n\n    return;\n}\n\nfunction resetCache() {\n    const prefix = _config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.cache(\"\");\n\n    for (const key in localStorage) {\n        if (key.startsWith(prefix)) {\n            localStorage.removeItem(key);\n        }\n    }\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/cache.js?");

/***/ }),

/***/ "./src/scripts/components/area.js":
/*!****************************************!*\
  !*** ./src/scripts/components/area.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeArea: () => (/* binding */ initializeArea),\n/* harmony export */   initializeAreas: () => (/* binding */ initializeAreas)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _api_trending_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/trending.js */ \"./src/scripts/api/trending.js\");\n/* harmony import */ var _api_rated_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../api/rated.js */ \"./src/scripts/api/rated.js\");\n/* harmony import */ var _api_new_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../api/new.js */ \"./src/scripts/api/new.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./watch.js */ \"./src/scripts/components/watch.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/pages.js */ \"./src/scripts/store/pages.js\");\n/* harmony import */ var _store_sections_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../store/sections.js */ \"./src/scripts/store/sections.js\");\n/* harmony import */ var _store_last_played_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../store/last-played.js */ \"./src/scripts/store/last-played.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction initializeArea(area, initialSlides, labelText, failed, customSplit) {\n    area.innerHTML = \"\";\n    const noResults = Array.isArray(initialSlides) && initialSlides.length === 0;\n\n    let desktop = window.innerWidth > (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).max;\n    let slides;\n    let index = 0;\n\n    if (initialSlides && initialSlides.length !== 0) {\n        slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(initialSlides, (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split)[desktop ? \"desktop\" : \"mobile\"]);\n    }\n\n    const label = document.createElement(\"div\");\n\n    const control = document.createElement(\"div\");\n    const previous = document.createElement(\"div\");\n    const previousIcon = document.createElement(\"i\");\n    const indicators = document.createElement(\"div\");\n    const next = document.createElement(\"div\");\n    const nextIcon = document.createElement(\"i\");\n\n    const notice = document.createElement(\"div\");\n    const noticeIcon = document.createElement(\"i\");\n    const noticeText = document.createElement(\"span\");\n\n    const cards = document.createElement(\"div\");\n\n    label.className = \"label\";\n    label.innerText = labelText;\n\n    control.className = \"control\";\n    previous.className = \"button secondary icon-only previous\";\n    previousIcon.className = \"icon icon-arrow-left\";\n    indicators.className = \"indicators\";\n    next.className = \"button secondary icon-only next\";\n    nextIcon.className = \"icon icon-arrow-right\";\n\n    previous.append(previousIcon);\n    next.append(nextIcon);\n\n    control.append(previous);\n    control.append(indicators);\n    control.append(next);\n\n    notice.className = \"notice\";\n    noticeIcon.className = `icon icon-${failed ? \"warning\" : noResults ? \"eye-slash\" : \"sync\"}`\n    noticeText.className = \"text\";\n    noticeText.innerText = failed ? `Failed to fetch ${labelText.toLowerCase()}` : noResults ? \"No results found\" : `Fetching ${labelText.toLowerCase()}`;\n\n    notice.append(noticeIcon);\n    notice.append(noticeText);\n\n    cards.className = \"cards\";\n\n    function add(info) {\n        const card = document.createElement(\"div\");\n        const image = document.createElement(\"img\");\n        const title = document.createElement(\"div\");\n\n        const footer = document.createElement(\"div\");\n\n        const date = document.createElement(\"div\");\n        const dateIcon = document.createElement(\"i\");\n        const dateText = document.createElement(\"span\");\n\n        const rating = document.createElement(\"div\");\n        const stars = document.createElement(\"div\");\n        const starsAmount = document.createElement(\"div\");\n\n        const play = document.createElement(\"div\");\n        const playIcon = document.createElement(\"i\");\n\n        if (info.id) card.setAttribute(\"data-id\", info.id);\n        if (info.type) card.setAttribute(\"data-type\", info.type);\n\n        card.className = \"card\";\n        image.className = \"image\";\n        image.src = info.image;\n        image.alt = info.title;\n        title.className = \"title\";\n\n        if (info.continue) {\n            const typeInfo = document.createElement(\"div\");\n\n            typeInfo.className = \"type-info\";\n            typeInfo.innerText = info.type?.toUpperCase();\n\n            card.append(typeInfo);\n        }\n\n        if (info.type === \"tv\" && info.continue) {\n            let lastPlayed = (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_9__.getLastPlayed)(info.id);\n            const seasonInfo = document.createElement(\"div\");\n\n            seasonInfo.className = \"season-info\";\n            seasonInfo.innerText = `S${lastPlayed.s} E${lastPlayed.e}`;\n\n            const checkInterval = setInterval(function () {\n                if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.elementExists)(card)) return clearInterval(checkInterval);\n                const newLastPlayed = (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_9__.getLastPlayed)(info.id);\n\n                if (JSON.stringify(newLastPlayed) !== JSON.stringify(lastPlayed)) {\n                    lastPlayed = newLastPlayed;\n                    seasonInfo.innerText = `S${lastPlayed.s} E${lastPlayed.e}`;\n                }\n            }, 500);\n\n            card.append(seasonInfo);\n        }\n\n        card.addEventListener(\"click\", function () {\n            if (!card.classList.contains(\"disabled\")) {\n                (0,_watch_js__WEBPACK_IMPORTED_MODULE_6__.watchContent)(info.type, info.id);\n            }\n        });\n\n        title.innerText = info.title.length > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.maxTitleLength\n            ? info.title.substring(0, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.maxTitleLength).replace(/\\s+\\S*$/, \"...\")\n            : info.title;\n\n        footer.className = \"footer\";\n\n        date.className = \"date\";\n        dateIcon.className = `icon icon-${info.continue ? \"eye\" : \"clock\"}`;\n        dateText.className = \"text\";\n        dateText.innerText = info.date;\n\n        date.append(dateIcon);\n        date.append(dateText);\n\n        rating.className = \"rating\";\n        stars.className = \"stars\";\n        starsAmount.className = \"amount text\";\n        starsAmount.innerText = info.stars;\n\n        for (var i = 0; i < 5; i++) {\n            const star = document.createElement(\"div\");\n            const starIcon = document.createElement(\"i\");\n\n            const floored = Math.floor(info.rating);\n            const decimal = info.rating - floored;\n\n            if (i < floored) star.className = \"star fill\";\n            else if (decimal >= 0.5 && i === floored) star.className = \"star half-fill\"\n            else star.className = \"star\";\n            \n            starIcon.className = \"icon icon-star\";\n\n            star.append(starIcon);\n            stars.append(star);\n        }\n\n        rating.append(stars);\n        rating.append(starsAmount);\n\n        if (info.date) {\n            footer.append(date);\n        }\n\n        if (info.rating && info.stars) {\n            footer.append(rating);\n        }\n\n        play.className = \"play\";\n        playIcon.className = \"icon icon-play\";\n\n        play.append(playIcon);\n\n        card.append(image);\n        card.append(title);\n        card.append(footer);\n        card.append(play);\n\n        cards.append(card);\n    }\n\n    function setIndicators() {\n        indicators.innerHTML = \"\";\n\n        slides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = index === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                set(i);\n            });\n\n            indicators.append(indicator);\n        });\n    }\n\n    function set(newIndex) {\n        index = slides[newIndex] ? newIndex : 0;\n        const slide = slides[index];\n\n        cards.innerHTML = \"\";\n        slide.forEach(add);\n\n        setIndicators();\n    }\n\n    function setPrevious() {\n        set(slides[index - 1] ? index - 1 : slides.length - 1);\n    }\n\n    function setNext() {\n        set(slides[index + 1] ? index + 1 : 0);\n    }\n\n    function checkResize() {\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.elementExists)(area)) return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.removeWindowResize)(checkResize);\n        const newDesktop = window.innerWidth > (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).max;\n\n        if (desktop !== newDesktop) {\n            desktop = newDesktop;\n\n            if (slides && slides.length !== 0) {\n                slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(initialSlides, (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split)[desktop ? \"desktop\" : \"mobile\"]);\n\n                index = index === 0 ? 0 : desktop\n                    ? Math.round((index + 1) / ((customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).desktop / (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).mobile)) - 1\n                    : Math.round((index + 1) * ((customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).desktop / (customSplit || _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split).mobile)) - 2;\n\n                set(index);\n            }\n        }\n    }\n\n    if (slides) {\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onWindowResize)(checkResize);\n        set(index);\n\n        previous.addEventListener(\"click\", setPrevious);\n        next.addEventListener(\"click\", setNext);\n    }\n\n    area.append(label);\n    \n    if (slides) {\n        area.append(control);\n        area.append(cards);\n    } else {\n        area.append(notice);\n    }\n}\n\nfunction initializeAreas() {\n    const desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.max;\n\n    const moviesActive = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_7__.getPage)(\"Movies\");\n    const showsActive = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_7__.getPage)(\"Shows\");\n\n    const trendingActive = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_8__.getSection)(\"Trending\");\n    const ratedActive = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_8__.getSection)(\"Top-Rated\");\n    const newActive = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_8__.getSection)(\"New\");\n\n    function initializeTrending() {\n        const label = \"Trending\";\n\n        async function initializeMovies() {\n            const moviesSection = document.querySelector(\".section.movies\");\n\n            if (!moviesSection) {\n                return console.error(\"Failed to find movies section.\");\n            }\n\n            const moviesTrendingArea = document.createElement(\"div\");\n            moviesTrendingArea.className = \"area\";\n            moviesSection.append(moviesTrendingArea);\n\n            initializeArea(moviesTrendingArea, null, label);\n            let trendingMovies = await (0,_api_trending_js__WEBPACK_IMPORTED_MODULE_3__.getTrending)(\"movie\");\n\n            if (!trendingMovies) {\n                initializeArea(moviesTrendingArea, null, label, true);\n            } else {\n                trendingMovies.splice(0, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.carousel.amount);    \n                trendingMovies.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, trendingMovies.length);\n    \n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(trendingMovies.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(moviesTrendingArea, trendingMovies, label);\n            }\n        }\n\n        async function initializeShows() {\n            const showsSection = document.querySelector(\".section.shows\");\n\n            if (!showsSection) {\n                return console.error(\"Failed to find shows section.\");\n            }\n\n            const showsTrendingArea = document.createElement(\"div\");\n            showsTrendingArea.className = \"area\";\n            showsSection.append(showsTrendingArea);\n\n            initializeArea(showsTrendingArea, null, label);\n            let trendingShows = await (0,_api_trending_js__WEBPACK_IMPORTED_MODULE_3__.getTrending)(\"tv\");\n\n            if (!trendingShows) {\n                initializeArea(showsTrendingArea, null, label, true);\n            } else {\n                trendingShows.splice(0, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.carousel.amount);\n                trendingShows.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, trendingShows.length);\n    \n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(trendingShows.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(showsTrendingArea, trendingShows, label);\n            }\n        }\n\n        if (moviesActive) initializeMovies();\n        if (showsActive) initializeShows();\n    }\n\n    function initializeTopRated() {\n        const label = \"Top-Rated\";\n\n        async function initializeMovies() {\n            const moviesSection = document.querySelector(\".section.movies\");\n\n            if (!moviesSection) {\n                return console.error(\"Failed to find movies section.\");\n            }\n\n            const moviesRatedArea = document.createElement(\"div\");\n            moviesRatedArea.className = \"area\";\n            moviesSection.append(moviesRatedArea);\n\n            initializeArea(moviesRatedArea, null, label);\n            let ratedMovies = await (0,_api_rated_js__WEBPACK_IMPORTED_MODULE_4__.getRated)(\"movie\");\n\n            if (!ratedMovies) {\n                initializeArea(moviesRatedArea, null, label, true);\n            } else {\n                ratedMovies.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, ratedMovies.length);\n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(ratedMovies.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(moviesRatedArea, ratedMovies, label);\n            }\n        }\n\n        async function initializeShows() {\n            const showsSection = document.querySelector(\".section.shows\");\n\n            if (!showsSection) {\n                return console.error(\"Failed to find shows section.\");\n            }\n\n            const showsRatedArea = document.createElement(\"div\");\n            showsRatedArea.className = \"area\";\n            showsSection.append(showsRatedArea);\n\n            initializeArea(showsRatedArea, null, label);\n            let ratedShows = await (0,_api_rated_js__WEBPACK_IMPORTED_MODULE_4__.getRated)(\"tv\");\n\n            if (!ratedShows) {\n                initializeArea(showsRatedArea, null, label, true);\n            } else {\n                ratedShows.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, ratedShows.length);\n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(ratedShows.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(showsRatedArea, ratedShows, label);\n            }\n        }\n\n        if (moviesActive) initializeMovies();\n        if (showsActive) initializeShows();\n    }\n\n    function initializeNew() {\n        const label = \"New\";\n        \n        async function initializeMovies() {\n            const moviesSection = document.querySelector(\".section.movies\");\n\n            if (!moviesSection) {\n                return console.error(\"Failed to find movies section.\");\n            }\n\n            const moviesNewArea = document.createElement(\"div\");\n            moviesNewArea.className = \"area\";\n            moviesSection.append(moviesNewArea);\n            \n            initializeArea(moviesNewArea, null, label);\n            let newMovies = await (0,_api_new_js__WEBPACK_IMPORTED_MODULE_5__.getNew)(\"movie\");\n\n            if (!newMovies) {\n                initializeArea(moviesNewArea, null, label, true);\n            } else {\n                newMovies.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, newMovies.length);\n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(newMovies.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(moviesNewArea, newMovies, label);\n            }\n        }\n\n        async function initializeShows() {\n            const showsSection = document.querySelector(\".section.shows\");\n\n            if (!showsSection) {\n                return console.error(\"Failed to find shows section.\");\n            }\n\n            const showsNewArea = document.createElement(\"div\");\n            showsNewArea.className = \"area\";\n            showsSection.append(showsNewArea);\n            \n            initializeArea(showsNewArea, null, label);\n            let newShows = await (0,_api_new_js__WEBPACK_IMPORTED_MODULE_5__.getNew)(\"tv\");\n\n            if (!newShows) {\n                initializeArea(showsNewArea, null, label, true);\n            } else {\n                newShows.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, newShows.length);\n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(newShows.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n                initializeArea(showsNewArea, newShows, label);\n            }\n        }\n\n        if (moviesActive) initializeMovies();\n        if (showsActive) initializeShows();\n    }\n\n    if (trendingActive) initializeTrending();\n    if (ratedActive) initializeTopRated();\n    if (newActive) initializeNew();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/area.js?");

/***/ }),

/***/ "./src/scripts/components/carousel.js":
/*!********************************************!*\
  !*** ./src/scripts/components/carousel.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeCarousels: () => (/* binding */ initializeCarousels)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _api_trending_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/trending.js */ \"./src/scripts/api/trending.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./watch.js */ \"./src/scripts/components/watch.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/pages.js */ \"./src/scripts/store/pages.js\");\n\n\n\n\n\n\n\nfunction initializeCarousel(carousel, slides) {\n    carousel.innerHTML = \"\";\n\n    let index = 0;\n\n    const image = document.createElement(\"img\");\n    const vignette = document.createElement(\"div\");\n\n    const details = document.createElement(\"div\");\n    const title = document.createElement(\"h2\");\n    const description = document.createElement(\"p\");\n    const buttons = document.createElement(\"div\");\n    const button = document.createElement(\"div\");\n    const buttonIcon = document.createElement(\"i\");\n    const buttonText = document.createElement(\"span\");\n\n    const control = document.createElement(\"div\");\n    const previous = document.createElement(\"div\");\n    const previousIcon = document.createElement(\"i\");\n    const indicators = document.createElement(\"div\");\n    const next = document.createElement(\"div\");\n    const nextIcon = document.createElement(\"i\");\n\n    image.className = \"image\";\n    vignette.className = \"vignette\";\n\n    details.className = \"details\";\n    title.className = \"title\";\n    description.className = \"description\";\n\n    buttons.className = \"buttons\";\n    button.className = \"button\";\n    buttonIcon.className = \"icon icon-play\";\n    buttonText.className = \"text\";\n    buttonText.innerText = \"Watch Content\";\n\n    button.append(buttonIcon);\n    button.append(buttonText);\n    buttons.append(button);\n    \n    details.append(title);\n    details.append(description);\n    details.append(buttons);\n\n    control.className = \"control\";\n    previous.className = \"button secondary icon-only previous\";\n    previousIcon.className = \"icon icon-arrow-left\";\n    indicators.className = \"indicators\";\n    next.className = \"button secondary icon-only next\";\n    nextIcon.className = \"icon icon-arrow-right\";\n\n    previous.append(previousIcon);\n    next.append(nextIcon);\n\n    control.append(previous);\n    control.append(indicators);\n    control.append(next);\n\n    function setIndicators() {\n        indicators.innerHTML = \"\";\n\n        slides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = index === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                set(i);\n            });\n\n            indicators.append(indicator);\n        });\n    }\n\n    function set(newIndex) {\n        index = slides[newIndex] ? newIndex : 0;\n        const slide = slides[index];\n\n        button.onclick = function () {\n            (0,_watch_js__WEBPACK_IMPORTED_MODULE_4__.watchContent)(slide.type, slide.id);\n        };\n\n        image.src = slide.backdrop;\n        image.alt = slide.title;\n        title.innerText = slide.title;\n        description.innerText = slide.description;\n\n        setIndicators();\n    }\n\n    function setPrevious() {\n        set(slides[index - 1] ? index - 1 : slides.length - 1);\n    }\n\n    function setNext() {\n        set(slides[index + 1] ? index + 1 : 0);\n    }\n\n    function iterate() {\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.isHovered)(carousel) && !document.body.classList.contains(\"modal-active\")) {\n            setNext();\n        }\n    }\n\n    if (slides) {\n        set(index);\n        setInterval(iterate, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.carousel.switchSlideInterval);\n\n        previous.addEventListener(\"click\", setPrevious);\n        next.addEventListener(\"click\", setNext);\n    }\n\n    carousel.append(image);\n    carousel.append(vignette);\n\n    if (slides) {\n        carousel.append(details);\n        carousel.append(control);\n    }\n}\n\nfunction initializeCarousels() {\n    async function initializeMovies() {\n        const moviesSection = document.querySelector(\".section.movies\");\n\n        if (!moviesSection) {\n            return console.error(\"Failed to find movie section.\");\n        }\n\n        const moviesCard = document.createElement(\"div\");\n        moviesCard.className = \"carousel\";\n        moviesSection.append(moviesCard);\n\n        initializeCarousel(moviesCard, null);\n        let movies = await (0,_api_trending_js__WEBPACK_IMPORTED_MODULE_3__.getTrending)(\"movie\");\n\n        if (movies) {\n            movies.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.carousel.amount, movies.length);\n            (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(movies.map((i) => i.backdrop), null, true);\n            initializeCarousel(moviesCard, movies);\n        }\n    }\n\n    async function initializeShows() {\n        const showsSection = document.querySelector(\".section.shows\");\n\n        if (!showsSection) {\n            return console.error(\"Failed to find show section.\");\n        }\n\n        const showsCard = document.createElement(\"div\");\n        showsCard.className = \"carousel\";\n        showsSection.append(showsCard);\n        \n        initializeCarousel(showsCard, null);\n        let shows = await (0,_api_trending_js__WEBPACK_IMPORTED_MODULE_3__.getTrending)(\"tv\");\n\n        if (shows) {\n            shows.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.carousel.amount, shows.length)\n            ;(0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(shows.map((i) => i.backdrop), null, true);\n            initializeCarousel(showsCard, shows);\n        }\n    }\n\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_5__.getPage)(\"Movies\")) initializeMovies();\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_5__.getPage)(\"Shows\")) initializeShows();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/carousel.js?");

/***/ }),

/***/ "./src/scripts/components/content.js":
/*!*******************************************!*\
  !*** ./src/scripts/components/content.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeContent: () => (/* binding */ initializeContent)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/pages.js */ \"./src/scripts/store/pages.js\");\n\n\n\nfunction initializeContent(element) {\n    const content = document.createElement(\"div\");\n    content.className = \"content\";\n\n    for (const item of _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.links) {\n        if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_1__.getPage)(item.text) === false) continue;\n\n        const section = document.createElement(\"div\");\n        section.className = `section ${item.text.toLowerCase()}`;\n        content.append(section);\n    }\n    \n    element.append(content);\n    return content;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/content.js?");

/***/ }),

/***/ "./src/scripts/components/continue.js":
/*!********************************************!*\
  !*** ./src/scripts/components/continue.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeContinue: () => (/* binding */ initializeContinue)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _area_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./area.js */ \"./src/scripts/components/area.js\");\n/* harmony import */ var _store_continue_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store/continue.js */ \"./src/scripts/store/continue.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n\n\n\n\n\n\nasync function initializeContinue() {\n    const desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.max;\n    const label = \"Continue\";\n\n    const homeSection = document.querySelector(\".section.home\");\n\n    if (!homeSection) {\n        return console.error(\"Failed to find home section.\");\n    }\n\n    const homeContinueArea = document.createElement(\"div\");\n    homeContinueArea.className = \"area continue inactive\";\n    homeSection.append(homeContinueArea);\n\n    const control = document.createElement(\"div\");\n    const deleteButton = document.createElement(\"div\");\n    const deleteButtonIcon = document.createElement(\"i\");\n\n    control.className = \"control continue\";\n    deleteButton.className = \"button secondary icon-only previous\";\n    deleteButtonIcon.className = \"icon icon-trash\";\n\n    deleteButton.append(deleteButtonIcon);\n    control.append(deleteButton);\n\n    let controlActive = false;\n    let continueWatching = [];\n\n    function checkControlActive() {\n        const cards = Array.from(homeContinueArea.querySelectorAll(\".card\"));\n        const continueControl = homeContinueArea.querySelector(\".control:not(.continue\");\n\n        deleteButton.classList[controlActive ? \"add\" : \"remove\"](\"active\");\n        if (continueControl) continueControl.onclick = checkControlActive;\n\n        for (const card of cards) {\n            const icon = card.querySelector(\".play .icon\");\n            if (icon) icon.className = controlActive ? \"icon icon-trash\" : \"icon icon-play\";\n\n            card.classList[controlActive ? \"add\" : \"remove\"](\"disabled\");\n            card.onclick = function () {\n                const id = card.getAttribute(\"data-id\");\n                const type = card.getAttribute(\"data-type\");\n\n                if (controlActive && id && type) {\n                    (0,_store_continue_js__WEBPACK_IMPORTED_MODULE_2__.removeFromContinueWatching)(id, type);\n                    card.remove();\n                    check();\n                }\n            };\n        }\n    }\n\n    deleteButton.addEventListener(\"click\", function () {\n        controlActive = !controlActive;\n        checkControlActive();\n    });\n\n    async function initializeContinueWatching() {\n        (0,_area_js__WEBPACK_IMPORTED_MODULE_1__.initializeArea)(homeContinueArea, null, label);\n\n        if (!continueWatching || continueWatching.length === 0) {\n            homeContinueArea.classList.add(\"inactive\");\n            controlActive = false;\n            control.remove();\n        } else {\n            await (0,_cache_js__WEBPACK_IMPORTED_MODULE_3__.preloadImages)(continueWatching.map((i) => i.image), _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"]);    \n            (0,_area_js__WEBPACK_IMPORTED_MODULE_1__.initializeArea)(homeContinueArea, continueWatching, label);\n            homeContinueArea.classList.remove(\"inactive\");\n            homeContinueArea.append(control);\n        }\n\n        checkControlActive();\n    }\n\n    async function check() {\n        const newContinueWatching = (0,_store_continue_js__WEBPACK_IMPORTED_MODULE_2__.getContinueWatching)();\n\n        if (continueWatching.length === 0 && newContinueWatching.length > 0 || JSON.stringify(newContinueWatching) !== JSON.stringify(continueWatching)) {\n            continueWatching = newContinueWatching;\n            await initializeContinueWatching();\n        }\n\n        if (controlActive && !(0,_functions_js__WEBPACK_IMPORTED_MODULE_4__.isHovered)(homeContinueArea)) {\n            controlActive = false;\n            checkControlActive();\n        }\n    }\n\n    await check();\n    setInterval(check, 500);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/continue.js?");

/***/ }),

/***/ "./src/scripts/components/footer.js":
/*!******************************************!*\
  !*** ./src/scripts/components/footer.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeFooter: () => (/* binding */ initializeFooter)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction initializeFooter(element) {\n    const container = document.createElement(\"div\");\n    const footer = document.createElement(\"div\");\n\n    const copyright = document.createElement(\"p\");\n    const links = document.createElement(\"div\");\n\n    container.className = \"footer-container\";\n    footer.className = \"footer\";\n\n    copyright.className = \"copyright\";\n    copyright.innerText = ` ${(new Date()).getFullYear()} ${_config_js__WEBPACK_IMPORTED_MODULE_0__.config.author}`;\n    links.className = \"links\";\n\n    for (const item of _config_js__WEBPACK_IMPORTED_MODULE_0__.config.footer.links) {\n        const link = document.createElement(\"a\");\n        const linkIcon = document.createElement(\"i\");\n\n        link.className = \"link\";\n        link.href = item.url;\n        link.target = \"_blank\";\n        link.ariaLabel = item.label;\n        linkIcon.className = `icon icon-${item.icon}`;\n\n        if (item.download) link.setAttribute(\"download\", item.download);\n\n        link.append(linkIcon);\n        links.append(link);\n    }\n\n    footer.append(copyright);\n    footer.append(links);\n\n    container.append(footer);\n    element.append(container);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/footer.js?");

/***/ }),

/***/ "./src/scripts/components/genres.js":
/*!******************************************!*\
  !*** ./src/scripts/components/genres.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeGenres: () => (/* binding */ initializeGenres)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _api_genres_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/genres.js */ \"./src/scripts/api/genres.js\");\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modal.js */ \"./src/scripts/components/modal.js\");\n/* harmony import */ var _area_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./area.js */ \"./src/scripts/components/area.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _api_trending_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../api/trending.js */ \"./src/scripts/api/trending.js\");\n/* harmony import */ var _api_rated_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../api/rated.js */ \"./src/scripts/api/rated.js\");\n/* harmony import */ var _api_new_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../api/new.js */ \"./src/scripts/api/new.js\");\n/* harmony import */ var _query_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../query.js */ \"./src/scripts/query.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../store/pages.js */ \"./src/scripts/store/pages.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nasync function modal(info, type) {\n    const desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.max;\n\n    const popularArea = document.createElement(\"div\");\n    const ratedArea = document.createElement(\"div\");\n    const newArea = document.createElement(\"div\");\n\n    popularArea.className = \"area\";\n    ratedArea.className = \"area\";\n    newArea.className = \"area\";\n\n    const images = [];\n\n    function cleanup() {\n        (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.unloadImages)(images, true);\n    }\n\n    (0,_modal_js__WEBPACK_IMPORTED_MODULE_3__.setModal)(info.name, null, [popularArea, ratedArea, newArea], \"arrow-left\", true);\n    (0,_modal_js__WEBPACK_IMPORTED_MODULE_3__.showModal)(cleanup);\n\n    async function initializePopular() {\n        const label = \"Popular\";\n\n        (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(popularArea, null, label);\n        let popularContent = await (0,_api_trending_js__WEBPACK_IMPORTED_MODULE_6__.getTrending)(type, info.id);\n\n        if (!popularContent) {\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(popularArea, null, label, true);\n        } else {\n            popularContent.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, popularContent.length);\n            const popularContentImages = (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.getNonCachedImages)(popularContent.map((i) => i.image));\n            images.push(...popularContentImages);\n\n            await (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.preloadImages)(popularContentImages, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(popularArea, popularContent, label);\n        }\n    }\n\n    async function initializeTopRated() {\n        const label = \"Top-Rated\";\n\n        (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(ratedArea, null, label);\n        let ratedContent = await (0,_api_rated_js__WEBPACK_IMPORTED_MODULE_7__.getRated)(type, info.id);\n\n        if (!ratedContent) {\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(ratedArea, null, label, true);\n        } else {\n            ratedContent.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, ratedContent.length);\n            const ratedContentImages = (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.getNonCachedImages)(ratedContent.map((i) => i.image));\n            images.push(...ratedContentImages);\n\n            await (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.preloadImages)(ratedContentImages, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(ratedArea, ratedContent, label);\n        }\n    }\n\n    async function initializeNew() {\n        const label = \"New\";\n\n        (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(newArea, null, label);\n        let newContent = await (0,_api_new_js__WEBPACK_IMPORTED_MODULE_8__.getNew)(type, info.id);\n\n        if (!newContent) {\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(newArea, null, label, true);\n        } else {\n            newContent.splice(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount, newContent.length);\n            const newContentImages = (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.getNonCachedImages)(newContent.map((i) => i.image));\n            images.push(...newContentImages);\n\n            await (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.preloadImages)(newContentImages, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n            (0,_area_js__WEBPACK_IMPORTED_MODULE_4__.initializeArea)(newArea, newContent, label);\n        }\n    }\n\n    initializePopular();\n    initializeTopRated();\n    initializeNew();\n}\n\nfunction initializeGenreArea(area, initialSlides, type, failed) {\n    area.innerHTML = \"\";\n    const noResults = Array.isArray(initialSlides) && initialSlides.length === 0;\n\n    let desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.max;\n    let slides;\n    let index = 0;\n\n    if (initialSlides && initialSlides.length !== 0) {\n        slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(initialSlides, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split[desktop ? \"desktop\" : \"mobile\"]);\n    }\n\n    const label = document.createElement(\"div\");\n\n    const control = document.createElement(\"div\");\n    const previous = document.createElement(\"div\");\n    const previousIcon = document.createElement(\"i\");\n    const indicators = document.createElement(\"div\");\n    const next = document.createElement(\"div\");\n    const nextIcon = document.createElement(\"i\");\n\n    const notice = document.createElement(\"div\");\n    const noticeIcon = document.createElement(\"i\");\n    const noticeText = document.createElement(\"span\");\n\n    const genres = document.createElement(\"div\");\n\n    label.className = \"label\";\n    label.innerText = \"Genres\";\n\n    control.className = \"control\";\n    previous.className = \"button secondary icon-only previous\";\n    previousIcon.className = \"icon icon-arrow-left\";\n    indicators.className = \"indicators\";\n    next.className = \"button secondary icon-only next\";\n    nextIcon.className = \"icon icon-arrow-right\";\n\n    previous.append(previousIcon);\n    next.append(nextIcon);\n\n    control.append(previous);\n    control.append(indicators);\n    control.append(next);\n\n    notice.className = \"notice\";\n    noticeIcon.className = `icon icon-${failed ? \"warning\" : noResults ? \"eye-slash\" : \"sync\"}`\n    noticeText.className = \"text\";\n    noticeText.innerText = failed ? \"Failed to fetch genres\" : noResults ? \"No results found\" : \"Fetching genres\";\n\n    notice.append(noticeIcon);\n    notice.append(noticeText);\n\n    genres.className = \"genres\";\n\n    function add(info) {\n        const genre = document.createElement(\"div\");\n        const genreText = document.createElement(\"span\");\n        const genreIcon = document.createElement(\"i\");\n\n        genre.className = \"genre\";\n        genreText.className = \"text\";\n        genreText.innerText = info.name;\n        genreIcon.className = \"icon icon-arrow-right\";\n\n        genre.addEventListener(\"click\", function () {\n            (0,_query_js__WEBPACK_IMPORTED_MODULE_9__.setQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal, `g-${type === \"movie\" ? \"m\" : \"s\"}-${info.id}`);\n        });\n\n        genre.append(genreText);\n        genre.append(genreIcon);\n\n        genres.append(genre);\n    }\n\n    function setIndicators() {\n        indicators.innerHTML = \"\";\n\n        slides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = index === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                set(i);\n            });\n\n            indicators.append(indicator);\n        });\n    }\n\n    function set(newIndex) {\n        index = slides[newIndex] ? newIndex : 0;\n        const slide = slides[index];\n\n        genres.innerHTML = \"\";\n        slide.forEach(add);\n\n        setIndicators();\n    }\n\n    function setPrevious() {\n        set(slides[index - 1] ? index - 1 : slides.length - 1);\n    }\n\n    function setNext() {\n        set(slides[index + 1] ? index + 1 : 0);\n    }\n\n    function checkResize() {\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.elementExists)(area)) return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.removeWindowResize)(checkResize);\n        const newDesktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.max;\n\n        if (desktop !== newDesktop) {\n            desktop = newDesktop;\n            \n            if (slides && slides.length !== 0) {\n                slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(initialSlides, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split[desktop ? \"desktop\" : \"mobile\"]);\n\n                index = index === 0 ? 0 : desktop\n                    ? Math.round((index + 1) / (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.mobile)) - 1\n                    : Math.round((index + 1) * (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_0__.config.genre.split.mobile)) - 2;\n\n                set(index);\n            }\n        }\n    }\n\n    if (slides) {\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onWindowResize)(checkResize);\n        set(index);\n\n        previous.addEventListener(\"click\", setPrevious);\n        next.addEventListener(\"click\", setNext);\n    }\n\n    area.append(label);\n    \n    if (slides) {\n        area.append(control);\n        area.append(genres);\n    } else {\n        area.append(notice);\n    }\n}\n\nlet movieGenres;\nlet showGenres;\n\nfunction initializeGenreModalCheck() {\n    function handleQueryChange() {\n        const modalQuery = (0,_query_js__WEBPACK_IMPORTED_MODULE_9__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal);\n        \n        if (modalQuery) {\n            const [modalType, type, id] = modalQuery.split(\"-\");\n\n            if (modalType === \"g\") {\n                (0,_modal_js__WEBPACK_IMPORTED_MODULE_3__.hideModal)(true);\n                \n                const info = type === \"m\"\n                    ? (movieGenres || []).find((g) => g.id?.toString() === id)\n                    : (showGenres || []).find((g) => g.id?.toString() === id);\n\n                if (info) {\n                    modal(info, type === \"m\" ? \"movie\" : \"tv\");\n                    document.title = `${type === \"m\" ? \"Movies\" : \"Shows\"} - ${info.name}`;\n                } else {\n                    (0,_query_js__WEBPACK_IMPORTED_MODULE_9__.removeQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal);\n                }\n            }\n        }\n    }\n\n    handleQueryChange();\n    (0,_query_js__WEBPACK_IMPORTED_MODULE_9__.onQueryChange)(handleQueryChange);\n}\n\nasync function initializeGenres() {\n    async function initializeMovies() {\n        const type = \"movie\";\n        const moviesSection = document.querySelector(\".section.movies\");\n\n        if (!moviesSection) {\n            return console.error(\"Failed to find movies section.\");\n        }\n\n        const moviesGenresArea = document.createElement(\"div\");\n        moviesGenresArea.className = \"area genres\";\n        moviesSection.append(moviesGenresArea);\n        \n        initializeGenreArea(moviesGenresArea, null, type);\n        movieGenres = await (0,_api_genres_js__WEBPACK_IMPORTED_MODULE_2__.getGenres)(\"movie\");\n\n        if (!movieGenres) {\n            initializeGenreArea(moviesGenresArea, null, type, true);\n        } else {\n            initializeGenreArea(moviesGenresArea, movieGenres, type);\n        }\n    }\n\n    async function initializeShows() {\n        const type = \"tv\";\n        const showsSection = document.querySelector(\".section.shows\");\n\n        if (!showsSection) {\n            return console.error(\"Failed to find shows section.\");\n        }\n\n        const showsGenresArea = document.createElement(\"div\");\n        showsGenresArea.className = \"area genres\";\n        showsSection.append(showsGenresArea);\n\n        initializeGenreArea(showsGenresArea, null, type);\n        showGenres = await (0,_api_genres_js__WEBPACK_IMPORTED_MODULE_2__.getGenres)(\"tv\");\n\n        if (!showGenres) {\n            initializeGenreArea(showsGenresArea, null, type, true);\n        } else {\n            initializeGenreArea(showsGenresArea, showGenres, type);\n        }\n    }\n\n    const promises = [];\n\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_10__.getPage)(\"Movies\")) promises.push(initializeMovies());\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_10__.getPage)(\"Shows\")) promises.push(initializeShows());\n\n    await Promise.all(promises);\n    initializeGenreModalCheck();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/genres.js?");

/***/ }),

/***/ "./src/scripts/components/header.js":
/*!******************************************!*\
  !*** ./src/scripts/components/header.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeHeader: () => (/* binding */ initializeHeader),\n/* harmony export */   setTitle: () => (/* binding */ setTitle)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../query.js */ \"./src/scripts/query.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/pages.js */ \"./src/scripts/store/pages.js\");\n\n\n\n\n\nlet activeIndex;\nlet links = [];\nlet sections = [];\n\nfunction setSectionsInactive() {\n    for (const section of sections) {\n        section.classList.remove(\"active\");\n    }\n}\n\nfunction setLinksInactive() {\n    for (const link of links) {\n        link.classList.remove(\"active\");\n    }\n}\n\nfunction getSectionName() {\n    const link = links.find((l) => l.classList.contains(\"active\"));\n\n    if (link) {\n        return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.getInnerText)(link);\n    }\n}\n\nfunction setTitle() {\n    document.title = `${_config_js__WEBPACK_IMPORTED_MODULE_0__.config.name} - ${getSectionName()}`;\n}\n\nfunction setSectionActive() {\n    const sectionName = getSectionName();\n    const section = document.querySelector(`.content > .section.${sectionName.toLowerCase()}`);\n    \n    if (!section) {\n        console.error(`Failed to find section \"${sectionName}\".`);\n    } else {\n        section.classList.add(\"active\");\n    }\n}\n\nfunction setLinkActive(link) {\n    setLinksInactive();\n    link.classList.add(\"active\");\n    \n    setSectionsInactive();\n    setSectionActive(link);\n\n    setTitle();\n}\n\nlet desktop;\nlet brandText;\nlet brandAccent;\n\nfunction initializeResizeCheck() {\n    function checkResize() {\n        const newDesktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.maxMobileWidth;\n\n        if (desktop !== newDesktop) {\n            desktop = newDesktop;\n            brandText.innerText = desktop ? _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name.normal.text : _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name.mobile.text;\n            brandAccent.innerText = desktop ? _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name.normal.accent : _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name.mobile.accent;\n        }\n    }\n    \n    (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onWindowResize)(checkResize);\n}\n\nfunction initializePageChangeCheck() {\n    function handleQueryChange() {\n        const activePage = (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.page);\n\n        const index = links[activePage - 1] ? activePage - 1 : activeIndex || 0;\n        const link = links[index];\n\n        if (link && index !== activeIndex) {\n            activeIndex = index;\n            setLinkActive(link);\n            document.documentElement.scrollTo({ top: 0 });\n        }\n\n        (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.setQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.page, activeIndex + 1);\n    }\n\n    handleQueryChange();\n    (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.onQueryChange)(handleQueryChange);\n}\n\nfunction initializeLinks() {\n    links.forEach(function (link, index) {\n        link.addEventListener(\"click\", function () {\n            if (!link.classList.contains(\"active\")) {\n                (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.setQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.page, index + 1);\n            }\n        });\n    });\n}\n\nfunction initializeHeader(element, content) {\n    desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.maxMobileWidth;\n\n    const container = document.createElement(\"div\");\n    const header = document.createElement(\"div\");\n\n    const brand = document.createElement(\"div\");\n    brandText = document.createElement(\"span\");\n    brandAccent = document.createElement(\"span\");\n\n    const linksElem = document.createElement(\"div\");\n\n    container.className = \"header-container\";\n    header.className = \"header\";\n\n    brand.className = \"brand\";\n    brandText.className = \"text\";\n    brandText.innerText = _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name[desktop ? \"normal\" : \"mobile\"].text;\n    brandAccent.className = \"accent\";\n    brandAccent.innerText = _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.name[desktop ? \"normal\" : \"mobile\"].accent;\n\n    brand.append(brandText);\n    brand.append(brandAccent);\n\n    linksElem.className = \"links\";\n\n    for (const item of _config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.links) {\n         if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_3__.getPage)(item.text) === false) continue;\n\n        const link = document.createElement(\"div\");\n        const linkIcon = document.createElement(\"i\");\n        const linkText = document.createElement(\"span\");\n\n        link.className = \"link\";\n        linkIcon.className = `icon icon-${item.icon}`;\n        linkText.className = \"text\";\n        linkText.innerText = item.text;\n\n        link.append(linkIcon);\n        link.append(linkText);\n        linksElem.append(link);\n    }\n\n    header.append(brand);\n    header.append(linksElem);\n    container.append(header);\n    \n    links = Array.from(linksElem.children);\n    sections = Array.from(content.children);\n\n    element.append(container);\n\n    initializeResizeCheck();\n    initializePageChangeCheck();\n    initializeLinks();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/header.js?");

/***/ }),

/***/ "./src/scripts/components/modal.js":
/*!*****************************************!*\
  !*** ./src/scripts/components/modal.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   changeHeaderText: () => (/* binding */ changeHeaderText),\n/* harmony export */   hideModal: () => (/* binding */ hideModal),\n/* harmony export */   initializeModal: () => (/* binding */ initializeModal),\n/* harmony export */   setModal: () => (/* binding */ setModal),\n/* harmony export */   showModal: () => (/* binding */ showModal)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _query_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../query.js */ \"./src/scripts/query.js\");\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./header.js */ \"./src/scripts/components/header.js\");\n\n\n\n\n\nlet container;\nlet headerText;\nlet headerInfo;\nlet buttons;\nlet copyButton;\nlet copyButtonIcon;\nlet headerButtonIcon;\nlet content;\nlet callback;\n\nfunction checkCallback() {\n    if (callback && typeof callback === \"function\") {\n        callback();\n    }\n\n    callback = null;\n}\n\nfunction changeHeaderText(label, info, titleClass) {\n    headerText.innerText = label;\n    headerText.className = titleClass ? `text ${titleClass}` : \"text\";\n    headerInfo.innerText = info || \"\";\n    headerInfo.className = info ? \"info active\" : \"info\";\n}\n\nfunction setModal(label = \"\", info, newContent, icon = \"times\", fill = false, titleClass) {\n    container.className = fill ? \"modal-container fill\" : \"modal-container\";\n    headerText.innerText = label;\n    headerText.className = titleClass ? `text ${titleClass}` : \"text\";\n    headerInfo.innerText = info || \"\";\n    headerInfo.className = info ? \"info active\" : \"info\";\n    headerButtonIcon.className = `icon icon-${icon}`;\n    content.innerHTML = \"\";\n    \n    if (newContent) {\n        if (Array.isArray(newContent)) {\n            content.append(...newContent);\n        } else {\n            content.append(newContent);\n        }\n    }\n}\n\nfunction showModal(cb) {\n    checkCallback();\n    callback = cb;\n\n    container.scrollTo({ top: 0 });\n    document.body.classList.add(\"modal-active\");\n}\n\nfunction hideModal(ignore) {\n    if (!ignore) (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.removeQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal);\n    if (!ignore) document.body.classList.remove(\"modal-active\");\n\n    if (!ignore) setModal();\n    if (!ignore) (0,_header_js__WEBPACK_IMPORTED_MODULE_3__.setTitle)();\n    checkCallback();\n}\n\nfunction initializeModalChangeCheck() {\n    function handleQueryChange() {\n        const modalQuery = (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal);\n        \n        if (!modalQuery) {\n            hideModal();\n        } else {\n            const [modalType] = modalQuery.split(\"-\");\n\n            if (!_config_js__WEBPACK_IMPORTED_MODULE_0__.config.modal.validTypes.includes(modalType)) {\n                hideModal();\n            }\n        }\n    }\n\n    handleQueryChange();\n    (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.onQueryChange)(handleQueryChange);\n}\n\nfunction copyLink() {\n    const page = (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.page);\n    const modal = (0,_query_js__WEBPACK_IMPORTED_MODULE_2__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal);\n\n    if (page && modal) {\n        copyButton.classList.add(\"copied\");\n        copyButtonIcon.className = \"icon icon-check\";\n\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.copyText)(`${window.location.origin}${window.location.pathname}?${_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.modal}=${modal}`);\n        \n        setTimeout(function () {\n            copyButtonIcon.className = \"icon icon-link\";\n            copyButton.classList.remove(\"copied\");\n        }, 2000);\n    }\n}\n\nfunction initializeModal() {\n    container = document.createElement(\"div\");\n    const modal = document.createElement(\"div\");\n\n    const header = document.createElement(\"div\");\n    const headerTextContainer = document.createElement(\"div\");\n    headerText = document.createElement(\"span\");\n    headerInfo = document.createElement(\"span\");\n    buttons = document.createElement(\"div\");\n    copyButton = document.createElement(\"div\");\n    copyButtonIcon = document.createElement(\"i\");\n    const headerButton = document.createElement(\"div\");\n    headerButtonIcon = document.createElement(\"i\");\n    \n    content = document.createElement(\"div\");\n\n    container.className = \"modal-container\";\n    modal.className = \"modal\";\n\n    header.className = \"modal-header\";\n    headerTextContainer.className = \"text-container\";\n    headerText.className = \"text\";\n    headerInfo.className = \"info\";\n    buttons.className = \"header-buttons\";\n    headerButton.className = \"button secondary icon-only\";\n    headerButtonIcon.className = \"icon icon-times\";\n    copyButton.className = \"button secondary icon-only\";\n    copyButtonIcon.className = \"icon icon-link\";\n\n    headerTextContainer.append(headerText);\n    headerTextContainer.append(headerInfo);\n\n    headerButton.append(headerButtonIcon);\n    headerButton.addEventListener(\"click\", function () {\n        hideModal();\n    });\n\n    copyButton.append(copyButtonIcon);\n    copyButton.addEventListener(\"click\", copyLink);\n\n    buttons.append(copyButton);\n    buttons.append(headerButton);\n    \n    header.append(headerTextContainer);\n    header.append(buttons);\n\n    content.className = \"modal-content\";\n    \n    modal.append(header);\n    modal.append(content);\n\n    container.append(modal);\n    document.body.append(container);\n\n    initializeModalChangeCheck();\n    (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onKeyPress)(\"x\", false, null, null, function () {\n        if (document.body.classList.contains(\"modal-active\")) {\n            hideModal();\n        }\n    });\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/modal.js?");

/***/ }),

/***/ "./src/scripts/components/search.js":
/*!******************************************!*\
  !*** ./src/scripts/components/search.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeSearches: () => (/* binding */ initializeSearches)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _api_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../api/search.js */ \"./src/scripts/api/search.js\");\n/* harmony import */ var _watch_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./watch.js */ \"./src/scripts/components/watch.js\");\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modal.js */ \"./src/scripts/components/modal.js\");\n/* harmony import */ var _query_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../query.js */ \"./src/scripts/query.js\");\n\n\n\n\n\n\n\n\nfunction initializeSearch(area, placeholder) {\n    let results = [];\n    let slides = [];\n\n    let desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.max;\n    let index = 0;\n\n    let images = [];\n\n    const label = document.createElement(\"div\");\n\n    const control = document.createElement(\"div\");\n    const previous = document.createElement(\"div\");\n    const previousIcon = document.createElement(\"i\");\n    const indicators = document.createElement(\"div\");\n    const next = document.createElement(\"div\");\n    const nextIcon = document.createElement(\"i\");\n\n    const search = document.createElement(\"div\");\n    const icon = document.createElement(\"i\");\n    const input = document.createElement(\"input\");\n    const clear = document.createElement(\"i\");\n\n    const notice = document.createElement(\"div\");\n    const noticeIcon = document.createElement(\"i\");\n    const noticeText = document.createElement(\"span\");\n\n    const cards = document.createElement(\"div\");\n\n    label.className = \"label\";\n    label.innerText = \"Search\";\n\n    control.className = \"control inactive\";\n    previous.className = \"button secondary icon-only previous\";\n    previousIcon.className = \"icon icon-arrow-left\";\n    indicators.className = \"indicators\";\n    next.className = \"button secondary icon-only next\";\n    nextIcon.className = \"icon icon-arrow-right\";\n\n    previous.append(previousIcon);\n    next.append(nextIcon);\n\n    control.append(previous);\n    control.append(indicators);\n    control.append(next);\n\n    search.className = \"search\";\n    icon.className = \"icon icon-search\";\n    input.className = \"input\";\n    input.placeholder = placeholder;\n    clear.className = \"clear icon-trash\";\n\n    search.append(icon);\n    search.append(input);\n    search.append(clear);\n\n    search.addEventListener(\"click\", function (e) {\n        if (e.target !== clear) {\n            input.focus();\n        }\n    });\n\n    notice.className = \"notice\";\n    noticeIcon.className = \"icon icon-eye-slash\"\n    noticeText.className = \"text\";\n\n    notice.append(noticeIcon);\n    notice.append(noticeText);\n\n    cards.className = \"cards inactive\";\n\n    function add(info) {\n        const card = document.createElement(\"div\");\n        const image = document.createElement(\"img\");\n        const title = document.createElement(\"div\");\n        const typeInfo = document.createElement(\"div\");\n\n        const footer = document.createElement(\"div\");\n\n        const date = document.createElement(\"div\");\n        const dateIcon = document.createElement(\"i\");\n        const dateText = document.createElement(\"span\");\n\n        const rating = document.createElement(\"div\");\n        const stars = document.createElement(\"div\");\n        const starsAmount = document.createElement(\"div\");\n\n        const play = document.createElement(\"div\");\n        const playIcon = document.createElement(\"i\");\n\n        card.className = \"card\";\n        image.className = \"image\";\n        image.src = info.image;\n        image.alt = info.title;\n        title.className = \"title\";\n        typeInfo.className = \"type-info\";\n        typeInfo.innerText = info.type?.toUpperCase();\n\n        card.addEventListener(\"click\", function () {\n            input.value = \"\";\n            clear.classList.remove(\"active\");\n\n            reset();\n            cleanup();\n            \n            (0,_watch_js__WEBPACK_IMPORTED_MODULE_4__.watchContent)(info.type, info.id);\n        });\n\n        title.innerText = info.title.length > (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.maxTitleLength * 1.75)\n            ? info.title.substring(0, (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.maxTitleLength * 1.75)).replace(/\\s+\\S*$/, \"...\")\n            : info.title;\n\n        footer.className = \"footer\";\n\n        date.className = \"date\";\n        dateIcon.className = \"icon icon-clock\";\n        dateText.className = \"text\";\n        dateText.innerText = info.date;\n\n        date.append(dateIcon);\n        date.append(dateText);\n\n        rating.className = \"rating\";\n        stars.className = \"stars\";\n        starsAmount.className = \"amount text\";\n        starsAmount.innerText = info.stars;\n\n        for (var i = 0; i < 5; i++) {\n            const star = document.createElement(\"div\");\n            const starIcon = document.createElement(\"i\");\n\n            const floored = Math.floor(info.rating);\n            const decimal = info.rating - floored;\n\n            if (i < floored) star.className = \"star fill\";\n            else if (decimal >= 0.5 && i === floored) star.className = \"star half-fill\"\n            else star.className = \"star\";\n            \n            starIcon.className = \"icon icon-star\";\n\n            star.append(starIcon);\n            stars.append(star);\n        }\n\n        rating.append(stars);\n        rating.append(starsAmount);\n\n        if (info.date) {\n            footer.append(date);\n        }\n\n        if (info.rating && info.stars) {\n            footer.append(rating);\n        }\n\n        play.className = \"play\";\n        playIcon.className = \"icon icon-play\";\n\n        play.append(playIcon);\n\n        card.append(image);\n        card.append(title);\n        card.append(typeInfo);\n        card.append(footer);\n        card.append(play);\n\n        cards.append(card);\n    }\n\n    function setIndicators() {\n        indicators.innerHTML = \"\";\n\n        slides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = index === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                set(i);\n            });\n\n            indicators.append(indicator);\n        });\n    }\n\n    function set(newIndex) {\n        index = slides[newIndex] ? newIndex : 0;\n        const slide = slides[index];\n\n        cards.innerHTML = \"\";\n        slide.forEach(add);\n\n        setIndicators();\n    }\n\n    function setPrevious() {\n        set(slides[index - 1] ? index - 1 : slides.length - 1);\n    }\n\n    function setNext() {\n        set(slides[index + 1] ? index + 1 : 0);\n    }\n\n    function checkResize() {\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.elementExists)(area)) return (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.removeWindowResize)(checkResize);\n        const newDesktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.max;\n\n        if (desktop !== newDesktop) {\n            desktop = newDesktop;\n            \n            if (slides && slides.length !== 0) {\n                slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(results, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"]);\n\n                index = index === 0 ? 0 : desktop\n                    ? Math.round((index + 1) / (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.mobile)) - 1\n                    : Math.round((index + 1) * (_config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split.mobile)) - 2;\n\n                set(index);\n            }\n        }\n    }\n\n    function notify(toggle, label, icon) {\n        notice.classList[toggle ? \"add\" : \"remove\"](\"active\");\n        noticeText.innerText = label || \"\";\n        noticeIcon.className = `icon icon-${icon || \"eye-slash\"}`;\n    }\n\n    function reset() {\n        results = [];\n        slides = [];\n        index = 0;\n\n        notify(false);\n        control.className = \"control inactive\";\n        cards.className = \"cards inactive\";\n        \n        indicators.innerHTML = \"\";\n        cards.innerHTML = \"\";\n    }\n\n    function populate(newResults) {\n        reset();\n\n        if (newResults.length === 0) {\n            notify(true, \"No results found\");\n            return;\n        }\n\n        results = newResults;\n        slides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.splitArray)(results, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"]);\n        \n        set(index);\n\n        control.className = \"control\";\n        cards.className = \"cards\";\n    }\n\n    function cleanup() {\n        (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.unloadImages)(images, true);\n        images = [];\n    }\n\n    function onFocus() {\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.scrollToElement)(area, -30);\n    }\n\n    function clearCheck() {\n        reset();\n        cleanup();\n\n        if (input.value.length > 0) {\n            clear.classList.add(\"active\");\n            notify(true, \"Waiting for text completion\", \"keyboard\");\n        } else {\n            clear.classList.remove(\"active\");\n        }\n    }\n\n    async function onInput() {\n        const query = input.value;\n\n        if (query.length > 0) {\n            notify(true, \"Fetching results\", \"sync\");\n            const searchResults = await (0,_api_search_js__WEBPACK_IMPORTED_MODULE_3__.getSearchResults)(query);\n            \n            if (!searchResults) {\n                notify(true, \"Failed to fetch results\", \"warning\");\n            } else {\n                const searchImages = (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.getNonCachedImages)(searchResults.map((i) => i.image));\n                images.push(...searchImages);\n\n                await (0,_cache_js__WEBPACK_IMPORTED_MODULE_2__.preloadImages)(searchImages, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.split[desktop ? \"desktop\" : \"mobile\"], true);\n\n                if (input.value.length === 0) {\n                    cleanup();\n                } else {\n                    populate(searchResults);\n                }\n            }\n        }\n    }\n\n    const debouncedOnInput = (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.debounce)(onInput, _config_js__WEBPACK_IMPORTED_MODULE_0__.config.search.debounce);\n\n    function onClear() {\n        input.value = \"\";\n        clear.classList.remove(\"active\");\n\n        reset();\n        cleanup();\n    }\n\n    (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onWindowResize)(checkResize);\n\n    previous.addEventListener(\"click\", setPrevious);\n    next.addEventListener(\"click\", setNext);\n\n    clear.addEventListener(\"click\", onClear);\n    input.addEventListener(\"input\", clearCheck);\n    input.addEventListener(\"input\", debouncedOnInput);\n    input.addEventListener(\"focusin\", onFocus);\n\n    area.append(label);\n    area.append(control);\n    area.append(search);\n    area.append(notice);\n    area.append(cards);\n}\n\nfunction initializeSearches() {\n    const homeSection = document.querySelector(\".section.home\");\n\n    if (!homeSection) {\n        return console.error(\"Failed to find home section.\");\n    }\n\n    const homeSearchArea = document.createElement(\"div\");\n\n    homeSearchArea.className = \"area search\";\n    homeSection.append(homeSearchArea);\n\n    initializeSearch(homeSearchArea, \"Search for movies & shows...\");\n\n    const homeInput = homeSearchArea.querySelector(\".input\");\n\n    if (homeInput) {\n        function focus() {\n            (0,_modal_js__WEBPACK_IMPORTED_MODULE_5__.hideModal)();\n            (0,_query_js__WEBPACK_IMPORTED_MODULE_6__.setQuery)(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.query.page, 1);\n\n            setTimeout(function () {\n                (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.scrollToElement)(homeSearchArea, -30);\n                homeInput.focus();\n            }, 100);\n        }\n\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_1__.onKeyPress)(\"/\", true, homeInput, null, focus);\n    }\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/search.js?");

/***/ }),

/***/ "./src/scripts/components/settings.js":
/*!********************************************!*\
  !*** ./src/scripts/components/settings.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeSettings: () => (/* binding */ initializeSettings)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction initializeSettings() {\n    const section = document.querySelector(\".section.settings\");\n\n    if (!section) {\n        return console.error(\"Failed to find section.\");\n    }\n\n    for (const setting of _config_js__WEBPACK_IMPORTED_MODULE_0__.settings) {\n        const container = document.createElement(\"div\");\n        \n        const label = document.createElement(\"div\");\n        const labelIcon = document.createElement(\"i\");\n        const labelText = document.createElement(\"span\");\n\n        container.className = \"container\";\n\n        label.className = \"label\";\n        labelIcon.className = `icon icon-${setting.label.icon}`;\n        labelText.className = \"text\";\n        labelText.innerHTML = setting.label.text;\n\n        label.append(labelIcon);\n        label.append(labelText);\n        container.append(label);\n\n        if (setting.type === \"selection\") {\n            const selection = document.createElement(\"div\");\n            \n            selection.className = \"selection\";\n            if (setting.multi) selection.classList.add(\"multi\");\n\n            function resetOptions() {\n                const options = Array.from(selection.children);\n                \n                for (const option of options) {\n                    option.classList.remove(\"active\");\n                }\n            }\n\n            function setOptionActive(label, toggle) {\n                const options = Array.from(selection.children);\n\n                for (const option of options) {\n                    if (option.innerText === label) {\n                        option.classList[toggle ? \"add\" : \"remove\"](\"active\");\n                    }\n                }\n            }\n\n            function initialize (items) {\n                for (const item of items) {\n                    const option = document.createElement(\"div\");\n    \n                    option.innerText = item.label;\n                    if (item.active) option.classList.add(\"active\");\n    \n                    option.addEventListener(\"click\", function () {\n                        if (!setting.multi) {\n                            resetOptions();\n                            setOptionActive(item.label, true);\n                        } else {\n                            const isActive = option.classList.contains(\"active\");\n                            setOptionActive(item.label, !isActive);\n                        }\n    \n                        setting.onClick(item.value);\n                    });\n    \n                    selection.append(option);\n                }\n            }\n\n            const items = setting.items();\n\n            if (items instanceof Promise) items.then(initialize);\n            else initialize(items);\n\n            container.append(selection);\n        } else if (setting.type === \"buttons\") {\n            const buttons = document.createElement(\"div\");\n            buttons.className = \"buttons\";\n\n            function initialize (items) {\n                for (const item of items) {\n                    const button = document.createElement(\"div\");\n                    const buttonIcon = document.createElement(\"i\");\n                    const buttonText = document.createElement(\"span\");\n    \n                    button.className = \"button\";\n                    if (item.class) button.classList.add(item.class);\n                    buttonIcon.className = `icon icon-${item.label.icon}`;\n                    buttonText.className = \"text\";\n                    buttonText.innerHTML = item.label.text;\n    \n                    if (item.label.icon) button.append(buttonIcon);\n                    button.append(buttonText);\n                    button.addEventListener(\"click\", () => item.onClick(button));\n                    \n                    buttons.append(button);\n                }\n            }\n\n            const items = setting.items();\n            \n            if (items instanceof Promise) items.then(initialize);\n            else initialize(items);\n\n            container.append(buttons);\n        } else if (setting.type === \"select\") {\n            const select = document.createElement(\"select\");\n            select.className = \"select\";\n\n            function initialize (items) {\n                for (const item of items) {\n                    const option = document.createElement(\"option\");\n    \n                    option.value = item.value;\n                    option.innerHTML = item.label;\n    \n                    if (item.placeholder) {\n                        option.setAttribute(\"disabled\", true);\n                        option.setAttribute(\"selected\", true);\n                    }\n    \n                    select.append(option);\n                }\n    \n                const activeItem = items.find((i) => i.active);\n                if (activeItem) select.value = activeItem.value;\n\n                select.addEventListener(\"change\", function () {\n                    setting.onSelect(select.value);\n                    if (setting.preventChange) select.value = \"\";\n                });\n            }\n\n            const items = setting.items();\n            \n            if (items instanceof Promise) items.then(initialize);\n            else initialize(items);\n\n            container.append(select);\n        }\n\n        section.append(container);\n    }\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/settings.js?");

/***/ }),

/***/ "./src/scripts/components/theme.js":
/*!*****************************************!*\
  !*** ./src/scripts/components/theme.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeTheme: () => (/* binding */ initializeTheme)\n/* harmony export */ });\n/* harmony import */ var _store_theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../store/theme.js */ \"./src/scripts/store/theme.js\");\n\n\nfunction initializeTheme() {\n    const theme = (0,_store_theme_js__WEBPACK_IMPORTED_MODULE_0__.getTheme)();\n    document.documentElement.className = (theme === \"auto\" ? \"\" : theme);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/theme.js?");

/***/ }),

/***/ "./src/scripts/components/watch.js":
/*!*****************************************!*\
  !*** ./src/scripts/components/watch.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeWatch: () => (/* binding */ initializeWatch),\n/* harmony export */   watchContent: () => (/* binding */ watchContent)\n/* harmony export */ });\n/* harmony import */ var _query_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../query.js */ \"./src/scripts/query.js\");\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modal.js */ \"./src/scripts/components/modal.js\");\n/* harmony import */ var _api_details_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/details.js */ \"./src/scripts/api/details.js\");\n/* harmony import */ var _functions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../functions.js */ \"./src/scripts/functions.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _store_provider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../store/provider.js */ \"./src/scripts/store/provider.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _store_last_played_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../store/last-played.js */ \"./src/scripts/store/last-played.js\");\n/* harmony import */ var _store_continue_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../store/continue.js */ \"./src/scripts/store/continue.js\");\n/* harmony import */ var _store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../store/watch-sections.js */ \"./src/scripts/store/watch-sections.js\");\n/* harmony import */ var _store_theme_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../store/theme.js */ \"./src/scripts/store/theme.js\");\n/* harmony import */ var _area_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./area.js */ \"./src/scripts/components/area.js\");\n/* harmony import */ var _api_proxy_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../api/proxy.js */ \"./src/scripts/api/proxy.js\");\n\n\n\n\n\n\n\n \n\n\n\n\n\n\nfunction watchContent(type, id) {\n    (0,_query_js__WEBPACK_IMPORTED_MODULE_0__.setQuery)(_config_js__WEBPACK_IMPORTED_MODULE_4__.config.query.modal, `${type === \"movie\" ? \"m\" : \"s\"}-${id}`);\n}\n\nfunction modal(info, recommendationImages) {\n    (0,_store_continue_js__WEBPACK_IMPORTED_MODULE_8__.addContinueWatching)(info.id, info.type, info.title, info.image);\n\n    const videoActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Video\");\n    const providersActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Providers\");\n    const seasonsActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Seasons\");\n    const descriptionActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Description\");\n    const castActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Cast\");\n    const reviewsActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Reviews\");\n    const miscActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Misc\");\n    const recommendationsActive = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Recommendations\");\n\n    let desktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.max;\n\n    let castSlides;\n    let castIndex = 0;\n\n    if (castActive && info.cast && info.cast.length !== 0) {\n        castSlides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.splitArray)(info.cast, _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split[desktop ? \"desktop\" : \"mobile\"]);\n    }\n\n    let reviewSlides;\n    let reviewIndex;\n\n    if (reviewsActive && info.reviews && info.reviews.length !== 0) {\n        reviewSlides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.splitArray)(info.reviews, _config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split[desktop ? \"desktop\" : \"mobile\"]);\n    }\n\n    let seasonNumber;\n    let episodeNumber;\n\n    if (info.type === \"tv\") {\n        const lastPlayed = (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_7__.getLastPlayed)(info.id);\n\n        seasonNumber = lastPlayed.s;\n        episodeNumber = lastPlayed.e;\n    }\n\n    const notice = document.createElement(\"div\");\n    const noticeIcon = document.createElement(\"i\");\n    const noticeText = document.createElement(\"span\");\n\n    const watch = document.createElement(\"div\");\n    const video = document.createElement(\"div\");\n    const iframe = document.createElement(\"iframe\");\n\n    const details = document.createElement(\"div\");\n    const left = document.createElement(\"div\");\n    const right = document.createElement(\"div\");\n\n    const providersElem = document.createElement(\"div\");\n    const providersTitle = document.createElement(\"div\");\n    const providersTitleIcon = document.createElement(\"i\");\n    const providersTitleText = document.createElement(\"span\");\n    const providersControl = document.createElement(\"div\");\n    const providersRefresh = document.createElement(\"div\");\n    const providersRefreshIcon = document.createElement(\"i\");\n    const providersSelect = document.createElement(\"select\");\n\n    const seasons = document.createElement(\"div\");\n    const seasonsTitle = document.createElement(\"div\");\n    const seasonsTitleIcon = document.createElement(\"i\");\n    const seasonsTitleText = document.createElement(\"span\");\n    const seasonsControl = document.createElement(\"div\");\n    const seasonsPrevious = document.createElement(\"div\");\n    const seasonsPreviousIcon = document.createElement(\"i\");\n    const seasonsNext = document.createElement(\"div\");\n    const seasonsNextIcon = document.createElement(\"i\");\n    const seasonCards = document.createElement(\"div\");\n\n    const description = document.createElement(\"div\");\n    const descriptionTitle = document.createElement(\"div\");\n    const descriptionTitleIcon = document.createElement(\"i\");\n    const descriptionTitleText = document.createElement(\"span\");\n    const descriptionText = document.createElement(\"p\");\n\n    const cast = document.createElement(\"div\");\n    const castTitle = document.createElement(\"div\");\n    const castTitleIcon = document.createElement(\"i\");\n    const castTitleText = document.createElement(\"span\");\n    const castControl = document.createElement(\"div\");\n    const castPrevious = document.createElement(\"div\");\n    const castPreviousIcon = document.createElement(\"i\");\n    const castIndicators = document.createElement(\"div\");\n    const castNext = document.createElement(\"div\");\n    const castNextIcon = document.createElement(\"i\");\n    const castCards = document.createElement(\"div\");\n\n    const reviews = document.createElement(\"div\");\n    const reviewsTitle = document.createElement(\"div\");\n    const reviewsTitleIcon = document.createElement(\"i\");\n    const reviewsTitleText = document.createElement(\"span\");\n    const reviewsControl = document.createElement(\"div\");\n    const reviewsPrevious = document.createElement(\"div\");\n    const reviewsPreviousIcon = document.createElement(\"i\");\n    const reviewsIndicators = document.createElement(\"div\");\n    const reviewsNext = document.createElement(\"div\");\n    const reviewsNextIcon = document.createElement(\"i\");\n    const reviewCards = document.createElement(\"div\");\n\n    const misc = document.createElement(\"div\");\n    const miscLeft = document.createElement(\"div\");\n    const miscRight = document.createElement(\"div\");\n\n    const releasedTitle = document.createElement(\"div\");\n    const releasedTitleIcon = document.createElement(\"i\");\n    const releasedTitleText = document.createElement(\"span\");\n    const releasedText = document.createElement(\"p\");\n\n    const languageTitle = document.createElement(\"div\");\n    const languageTitleIcon = document.createElement(\"i\");\n    const languageTitleText = document.createElement(\"span\");\n    const languageText = document.createElement(\"p\");\n\n    const ratingTitle = document.createElement(\"div\");\n    const ratingTitleIcon = document.createElement(\"i\");\n    const ratingTitleText = document.createElement(\"span\");\n    const ratingContainer = document.createElement(\"div\");\n    const ratingStars = document.createElement(\"div\");\n    const ratingStarsAmount = document.createElement(\"div\");\n\n    const genresTitle = document.createElement(\"div\");\n    const genresTitleIcon = document.createElement(\"i\");\n    const genresTitleText = document.createElement(\"span\");\n    const genres = document.createElement(\"div\");\n\n    const recommendations = document.createElement(\"div\");\n    const recommendationsTitle = document.createElement(\"div\");\n    const recommendationsTitleIcon = document.createElement(\"i\");\n    const recommendationsTitleText = document.createElement(\"span\");\n    const recommendationsArea = document.createElement(\"div\");\n\n    watch.className = \"watch\";\n\n    notice.className = \"notice active\";\n    noticeIcon.className = \"icon icon-eye-slash\";\n    noticeText.className = \"text\";\n    noticeText.innerText = \"Not found\";\n\n    notice.append(noticeIcon);\n    notice.append(noticeText);\n\n    const videoNoticeContainer = document.createElement(\"div\");\n    const videoNotice = notice.cloneNode();\n    const videoNoticeIcon = noticeIcon.cloneNode();\n    const videoNoticeText = noticeText.cloneNode();\n\n    videoNoticeContainer.className = \"video-notice\";\n    videoNoticeIcon.className = \"icon icon-sync\";\n    videoNoticeText.innerText = \"Content loading\";\n\n    videoNotice.append(videoNoticeIcon);\n    videoNotice.append(videoNoticeText);\n    videoNoticeContainer.append(videoNotice);\n\n    video.className = \"video\";\n    iframe.className = \"iframe\";\n    iframe.setAttribute(\"allowfullscreen\", true);\n    video.append(videoNoticeContainer);\n    \n    if (videoActive) {\n        const up = document.createElement(\"i\");\n        const down = document.createElement(\"i\");\n\n        up.className = \"scroll up icon-arrow-up\";\n        down.className = \"scroll down icon-arrow-down\";\n        \n        function onClick() {\n            video.scrollIntoView({ block: \"center\" });\n            up.classList.remove(\"active\");\n            down.classList.remove(\"active\");\n        }\n\n        up.addEventListener(\"click\", onClick);\n        down.addEventListener(\"click\", onClick);\n\n        const interval = setInterval(function () {\n            if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.elementExists)(watch)) return clearInterval(interval);\n\n            const direction = (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.getCenteringDirection)(video);\n\n            switch (direction) {\n                case \"up\":\n                    up.classList.add(\"active\");\n                    down.classList.remove(\"active\");\n                    break\n                case \"down\":\n                    up.classList.remove(\"active\");\n                    down.classList.add(\"active\");\n                    break\n                default:\n                    up.classList.remove(\"active\");\n                    down.classList.remove(\"active\");\n                    break\n            }\n        }, 50);\n\n        function show() {\n            video.scrollIntoView({ block: \"center\" });\n        }\n\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"v\", true, null, watch, show);\n        video.append(up, down);\n    }\n\n    let currentIframe;\n    let disabled = false;\n\n    let validProviders = {};\n    let forceProvider;\n\n    let validProxies = [];\n    let proxiesChecked = false;\n\n    function getUrl(provider) {\n        const theme = (0,_store_theme_js__WEBPACK_IMPORTED_MODULE_10__.getThemeAbsolute)();\n\n        return info.type === \"movie\"\n            ? provider.movieUrl({ id: info.id, imdbId: info.imdbId, theme })\n            : provider.showUrl({ id: info.id, season: seasonNumber, episode: episodeNumber, theme });\n    }\n\n    function getValidProvider() {\n        const provider = validProviders[(0,_store_provider_js__WEBPACK_IMPORTED_MODULE_5__.getProvider)()];\n        if (!provider) forceProvider = Object.values(validProviders)[0];\n        return forceProvider || provider;\n    }\n\n    function getValidProviderKey() {\n        const provider = getValidProvider();\n        return Object.keys(validProviders)[Object.values(validProviders).indexOf(provider)];\n    }\n\n    function videoAlert(toggle, icon, text) {\n        videoNoticeIcon.className = `icon icon-${icon || \"sync\"}`;\n        videoNoticeText.innerHTML = text || \"\";\n        videoNoticeContainer.classList[toggle ? \"add\" : \"remove\"](\"active\");\n    }\n\n    async function checkProviders() {\n        validProviders = {};\n        disabled = true;\n\n        providersElem.classList.add(\"disabled\");\n        seasons.classList.add(\"disabled\");\n\n        if (currentIframe) currentIframe.remove();\n        providersSelect.innerHTML = \"<option selected disabled>...</option>\";\n\n        async function proxiesCheck() {\n            const total = Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_4__.proxies).length;\n            let checked = 0;\n\n            function updateAlert() {\n                videoAlert(true, \"box\", `Checking proxies <b>(${checked}/${total})</b>`);\n            }\n\n            updateAlert();\n\n            const promises = Object.values(_config_js__WEBPACK_IMPORTED_MODULE_4__.proxies).map(async function (proxy) {\n                const valid = await (0,_api_proxy_js__WEBPACK_IMPORTED_MODULE_12__.isValidProxy)(proxy);\n                \n                if (valid) validProxies.push(proxy);\n                checked++;\n\n                updateAlert();\n            });\n\n            await Promise.all(promises);\n            proxiesChecked = true;\n        }\n\n        async function providersCheck(proxy) {\n            const total = Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_4__.providers).length;\n            let checked = 0;\n\n            function updateAlert() {\n                videoAlert(true, \"tv\", `Checking providers <b>(${checked}/${total})</b>`);\n            }\n\n            updateAlert();\n    \n            const promises = Object.entries(_config_js__WEBPACK_IMPORTED_MODULE_4__.providers).map(async function ([key, value]) {\n                const url = getUrl(value);\n                const valid = await (0,_api_proxy_js__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(proxy, url);\n    \n                if (valid) validProviders[key] = value;\n                checked++;\n    \n                updateAlert();\n            });\n    \n            await Promise.all(promises);\n            validProviders = Object.fromEntries(Object.entries(validProviders).sort(([a], [b]) => Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_4__.providers).indexOf(a) - Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_4__.providers).indexOf(b)));\n        }\n\n        if (!proxiesChecked) await proxiesCheck();\n        \n        if (validProxies.length > 0) await providersCheck(validProxies[0]);\n        else validProviders = _config_js__WEBPACK_IMPORTED_MODULE_4__.providers;\n\n        providersSelect.innerHTML = \"\";\n\n        if (Object.keys(validProviders).length > 0) {\n            Object.keys(validProviders).forEach(function (providerName) {\n                const provider = document.createElement(\"option\");\n        \n                provider.value = providerName.toLowerCase();\n                provider.innerText = providerName;\n        \n                providersSelect.append(provider);\n            });\n\n            providersSelect.value = getValidProviderKey();\n\n            providersElem.classList.remove(\"disabled\");\n            seasons.classList.remove(\"disabled\");\n\n            disabled = false;\n            playVideo();\n        } else {\n            videoAlert(true, \"censor\", \"No providers available\");\n        }\n    }\n\n    function playVideo() {\n        if (disabled) return;\n        if (currentIframe) currentIframe.remove();\n        \n        currentIframe = iframe.cloneNode();\n        video.append(currentIframe);\n\n        const provider = getValidProvider();\n        const url = getUrl(provider);\n\n        videoAlert(true, \"sync\", \"Content loading\");\n        currentIframe.src = url;\n        \n        currentIframe.addEventListener(\"load\", function () {\n            videoAlert(false);\n            currentIframe.classList.add(\"active\");\n        });\n    }\n\n    details.className = videoActive ? \"details\" : \"details no-video\";\n    left.className = \"left container\";\n    right.className = \"right container\";\n\n    details.append(left);\n    details.append(right);\n\n    providersElem.className = \"details-card\";\n    providersTitle.className = \"title\";\n    providersTitleIcon.className = \"icon icon-tv\";\n    providersTitleText.className = \"text\";\n    providersTitleText.innerText = \"Provider\";\n    providersControl.className = \"control\";\n    providersRefresh.className = \"button secondary icon-only\";\n    providersRefreshIcon.className = \"icon icon-sync\";\n    providersSelect.className = \"select\";\n\n    providersTitle.append(providersTitleIcon);\n    providersTitle.append(providersTitleText);\n    providersElem.append(providersTitle);\n    providersElem.append(providersSelect);\n\n    providersRefresh.append(providersRefreshIcon);\n    providersControl.append(providersRefresh);\n\n    if (videoActive) {\n        checkProviders();\n        \n        function providerSet(name) {\n            if (disabled) return;\n\n            forceProvider = null;\n            (0,_store_provider_js__WEBPACK_IMPORTED_MODULE_5__.setProvider)(name);\n            playVideo();\n            video.scrollIntoView({ block: \"center\" });\n        }\n\n        function nextProvider() {\n            if (disabled) return;\n\n            const provider = getValidProviderKey();\n            const providers = Array.from(providersSelect.children);\n\n            const providerElem = providers.find((p) => p.value === provider);\n            const index = providerElem && providers.indexOf(providerElem);\n            const next = index !== -1 && providers[index + 1];\n\n            if (next) {\n                providersSelect.value = next.value;\n                providerSet(next.value);\n            }\n        }\n\n        function previousProvider() {\n            if (disabled) return;\n\n            const provider = getValidProviderKey();\n            const providers = Array.from(providersSelect.children);\n\n            const providerElem = providers.find((p) => p.value === provider);\n            const index = providerElem && providers.indexOf(providerElem);\n            const previous = index !== -1 && providers[index - 1];\n\n            if (previous) {\n                providersSelect.value = previous.value;\n                providerSet(previous.value);\n            }\n        }\n\n        function refresh() {\n            if (disabled) return;\n\n            playVideo();\n            video.scrollIntoView({ block: \"center\" });\n        }\n\n        providersTitle.append(providersControl);\n        providersSelect.addEventListener(\"change\", function () {\n            providerSet(providersSelect.value);\n        });\n        \n        providersRefresh.addEventListener(\"click\", refresh);\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"r\", true, null, watch, refresh);\n\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"+\", true, null, watch, nextProvider);\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"=\", true, null, watch, nextProvider);\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"-\", true, null, watch, previousProvider);\n    }\n\n    seasons.className = \"details-card\";\n    if (disabled) seasons.classList.add(\"disabled\");\n    seasonsTitle.className = \"title\";\n    seasonsTitleIcon.className = \"icon icon-list\";\n    seasonsTitleText.className = \"text\";\n    seasonsTitleText.innerText = \"Seasons\";\n    seasonsControl.className = \"control season-control\";\n    seasonsPrevious.className = \"button secondary icon-only previous\";\n    seasonsPreviousIcon.className = \"icon icon-arrow-left\";\n    seasonsNext.className = \"button secondary icon-only next\";\n    seasonsNextIcon.className = \"icon icon-arrow-right\";\n    seasonCards.className = \"season-cards\";\n\n    seasonsTitle.append(seasonsTitleIcon);\n    seasonsTitle.append(seasonsTitleText);\n    seasons.append(seasonsTitle);\n\n    seasonsPrevious.append(seasonsPreviousIcon);\n    seasonsNext.append(seasonsNextIcon);\n\n    seasonsControl.append(seasonsPrevious);\n    seasonsControl.append(seasonsNext);\n    \n    function hideSeasons() {\n        const seasons = seasonCards.querySelectorAll(\".season-card.active\");\n        const icons = seasonCards.querySelectorAll(\".icon.icon-arrow-up\");\n\n        for (const season of Array.from(seasons)) {\n            season.classList.remove(\"active\");\n        }\n\n        for (const icon of Array.from(icons)) {\n            icon.className = \"icon icon-arrow-down\";\n        }\n    }\n\n    function showSeason(season) {\n        const isActive = season.classList.contains(\"active\");\n        hideSeasons();\n\n        if (!isActive) {\n            const icon = season.querySelector(\".icon-arrow-down\");\n\n            if (icon) icon.className = \"icon icon-arrow-up\";\n            season.classList.add(\"active\");\n            season.scrollIntoView({ block: \"start\" });\n        }\n    }\n\n    function unsetEpisodes() {\n        const episodes = seasonCards.querySelectorAll(\".episode.active\");\n\n        for (const episode of Array.from(episodes)) {\n            episode.classList.remove(\"active\");\n        }\n    }\n\n    function setEpisode(episode) {\n        unsetEpisodes();\n        episode.classList.add(\"active\");\n        checkProviders();\n    }\n\n    function checkCurrentlyPlaying() {\n        if (document.title !== info.title) document.title = info.title;\n        \n        if (info.type === \"movie\" || info.type === \"tv\" && !videoActive) {\n            (0,_modal_js__WEBPACK_IMPORTED_MODULE_1__.changeHeaderText)(info.title, null, info.type);\n        } else {\n            (0,_modal_js__WEBPACK_IMPORTED_MODULE_1__.changeHeaderText)(info.title, `S${seasonNumber} E${episodeNumber}`, info.type);\n        }\n    }\n\n    function playSeries() {\n        (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_7__.setLastPlayed)(info.id, seasonNumber, episodeNumber);\n        checkCurrentlyPlaying();\n        video.scrollIntoView({ block: \"center\" });\n    }\n\n    let playEpisodeCallbacks = [];\n\n    function playEpisode(sNumber, eNumber, episode) {\n        if (!videoActive || disabled) return;\n\n        seasonNumber = sNumber;\n        episodeNumber = eNumber;\n\n        if (episode) setEpisode(episode);\n        playSeries();\n\n        for (const callback of playEpisodeCallbacks) {\n            callback();\n        }\n    }\n\n    function getNextEpisode() {\n        const seasonIndex = info.seasons.findIndex((s) => s.number === seasonNumber);\n        if (seasonIndex === -1) return;\n\n        const episodeIndex = info.seasons[seasonIndex].episodes.findIndex((e) => e.number === episodeNumber);\n        if (episodeIndex === -1) return;\n\n        let nextSeasonIndex = seasonIndex;\n        let nextEpisodeIndex = episodeIndex + 1;\n\n        if (nextEpisodeIndex >= info.seasons[seasonIndex].episodes.length) {\n            nextSeasonIndex = seasonIndex + 1;\n            nextEpisodeIndex = 0;\n        }\n\n        if (nextSeasonIndex >= info.seasons.length) return;\n\n        const nextSeasonNumber = info.seasons[nextSeasonIndex].number;\n        const nextEpisodeNumber = info.seasons[nextSeasonIndex].episodes[nextEpisodeIndex].number;\n\n        return { s: nextSeasonNumber, e: nextEpisodeNumber, sIndex: nextSeasonIndex, eIndex: nextEpisodeIndex };\n    }\n\n    function getPreviousEpisode() {\n        const seasonIndex = info.seasons.findIndex((s) => s.number === seasonNumber);\n        if (seasonIndex === -1) return;\n\n        const episodeIndex = info.seasons[seasonIndex].episodes.findIndex((e) => e.number === episodeNumber);\n        if (episodeIndex === -1) return;\n\n        let nextSeasonIndex = seasonIndex;\n        let nextEpisodeIndex = episodeIndex - 1;\n\n        if (nextEpisodeIndex < 0) {\n            nextSeasonIndex = seasonIndex - 1;\n            if (!info.seasons[nextSeasonIndex]) return;\n\n            nextEpisodeIndex = info.seasons[nextSeasonIndex].episodes.length - 1;\n            if (!info.seasons[nextSeasonIndex].episodes[nextEpisodeIndex]) return;\n        }\n\n        const nextSeasonNumber = info.seasons[nextSeasonIndex].number;\n        const nextEpisodeNumber = info.seasons[nextSeasonIndex].episodes[nextEpisodeIndex].number;\n\n        return { s: nextSeasonNumber, e: nextEpisodeNumber, sIndex: nextSeasonIndex, eIndex: nextEpisodeIndex };\n    }\n\n    if (seasonsActive && info.seasons && info.seasons.length > 0) {\n        info.seasons.forEach(function (season) {\n            const card = document.createElement(\"div\");\n            const title = document.createElement(\"div\");\n            const name = document.createElement(\"span\");\n            const amount = document.createElement(\"span\");\n            const button = document.createElement(\"div\");\n            const buttonIcon = document.createElement(\"i\");\n            const episodes = document.createElement(\"div\");\n\n            card.className = (videoActive && season.number === seasonNumber) ? \"season-card active\" : \"season-card\";\n            title.className = \"season-title\";\n            name.className = \"name\";\n            name.innerText = `Season ${season.numberPadded}`;\n            amount.className = \"amount\";\n            amount.innerText = `${season.episodes.length} episodes`;\n            button.className = \"button secondary icon-only\";\n            buttonIcon.className = `icon icon-${(videoActive && season.number === seasonNumber) ? \"arrow-up\" : \"arrow-down\"}`;\n\n            button.append(buttonIcon);\n\n            button.addEventListener(\"click\", function () {\n                showSeason(card);\n            });\n\n            title.append(name);\n            title.append(amount);\n            title.append(button);\n\n            episodes.className = \"episodes\";\n\n            season.episodes.forEach(function (episodeInfo) {\n                const episode = document.createElement(\"div\");\n                const episodeLeft = document.createElement(\"div\");\n                const episodeRight = document.createElement(\"div\");\n\n                const episodeNumberText = document.createElement(\"span\");\n                const episodePreviewContainer = document.createElement(\"div\");\n                const episodePreviewImage = document.createElement(\"img\");\n\n                const episodeTitle = document.createElement(\"div\");\n                const episodeTitleText = document.createElement(\"span\");\n                const episodeTitleTime = document.createElement(\"div\");\n                const episodeTitleTimeIcon = document.createElement(\"i\");\n                const episodeTitleTimeText = document.createElement(\"span\");\n                const episodeDescription = document.createElement(\"span\");\n\n                episode.className = (videoActive && season.number === seasonNumber && episodeInfo.number === episodeNumber) ? \"episode active\" : \"episode\";\n                episodeLeft.className = \"episode-left\";\n                episodeRight.className = \"episode-right\";\n\n                episode.addEventListener(\"click\", function () {\n                    if (videoActive) playEpisode(season.number, episodeInfo.number, episode);\n                });\n\n                episodeNumberText.className = \"number\";\n                episodeNumberText.innerText = episodeInfo.numberPadded;\n                episodePreviewContainer.className = \"preview\";\n                episodePreviewImage.className = \"image\";\n                \n                if (episodeInfo.image) {\n                    episodePreviewImage.src = episodeInfo.image;\n                } else {\n                    episodePreviewContainer.append(notice.cloneNode(true));\n                }\n\n                if (episodeInfo.name) {\n                    episodePreviewImage.alt = episodeInfo.name;\n                }\n                \n                episodePreviewContainer.append(episodePreviewImage);\n\n                episodeTitle.className = \"episode-title\";\n                episodeTitleText.className = \"name\";\n                episodeTitleText.innerText = episodeInfo.name;\n                episodeTitleTime.className = \"time\";\n                episodeTitleTimeIcon.className = \"icon icon-clock\";\n                episodeTitleTimeText.className = \"text\";\n                episodeTitleTimeText.innerText = episodeInfo.time;\n                episodeDescription.className = \"description\";\n                episodeDescription.innerText = episodeInfo.description;\n\n                episodeTitleTime.append(episodeTitleTimeIcon);\n                episodeTitleTime.append(episodeTitleTimeText);\n\n                if (episodeInfo.name) {\n                    episodeTitle.append(episodeTitleText);\n                } else {\n                    episodeTitle.append(notice.cloneNode(true));\n                }\n                \n                if (episodeInfo.time) {\n                    episodeTitle.append(episodeTitleTime);\n                }\n\n                episodeLeft.append(episodeNumberText);\n                episodeLeft.append(episodePreviewContainer);\n\n                episodeRight.append(episodeTitle);\n                \n                if (episodeInfo.description) {\n                    episodeRight.append(episodeDescription);\n                } else {\n                    episodeRight.append(notice.cloneNode(true));\n                }\n\n                episode.append(episodeLeft);\n                episode.append(episodeRight);\n\n                episodes.append(episode);\n            });\n\n            card.append(title);\n            card.append(episodes);\n\n            seasonCards.append(card);\n        });\n\n        seasons.append(seasonCards);\n    } else {\n        seasons.append(notice.cloneNode(true));\n    }\n\n    if (videoActive) {\n        function checkSeasonControl() {\n            const previous = getPreviousEpisode();\n            const next = getNextEpisode();\n\n            seasonsPrevious.classList[previous ? \"remove\" : \"add\"](\"inactive\");\n            seasonsNext.classList[next ? \"remove\" : \"add\"](\"inactive\");\n\n            seasonsControl.classList[(previous || next) ? \"remove\" : \"add\"](\"inactive\");\n        }\n\n        playEpisodeCallbacks.push(checkSeasonControl);\n        checkSeasonControl();\n\n        function seasonControlChange(next) {\n            const episode = next ? getNextEpisode() : getPreviousEpisode();\n\n            if (episode) {\n                if (seasonsActive) {\n                    const seasonCard = Array.from(seasonCards.children)[episode.sIndex];\n                    const seasonCardEpisodes = seasonCard ? seasonCard.querySelector(\".episodes\") : null;\n                    const episodeCard = seasonCardEpisodes ? Array.from(seasonCardEpisodes.children)[episode.eIndex] : null;\n\n                    if (episodeCard) {\n                        playEpisode(episode.s, episode.e, episodeCard);\n\n                        hideSeasons();\n                        seasonCard.classList.add(\"active\");\n\n                        const seasonCardIcon = seasonCard.querySelector(\".icon-arrow-down\");\n                        if (seasonCardIcon) seasonCardIcon.className = \"icon icon-arrow-up\";\n                    }\n                } else {\n                    playEpisode(episode.s, episode.e);\n                }\n            }\n\n            checkSeasonControl();\n        }\n        \n        function nextEpisode() {\n            if (disabled) return;\n            seasonControlChange(true);\n        }\n\n        function previousEpisode() {\n            if (disabled) return;\n            seasonControlChange(false);\n        }\n\n        seasonsNext.addEventListener(\"click\", nextEpisode);\n        seasonsPrevious.addEventListener(\"click\", previousEpisode);\n\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"]\", true, null, watch, nextEpisode);\n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onKeyPress)(\"[\", true, null, watch, previousEpisode);\n\n        seasonsTitle.append(seasonsControl);\n    }\n\n    description.className = \"details-card\";\n    descriptionTitle.className = \"title\";\n    descriptionTitleIcon.className = \"icon icon-file\";\n    descriptionTitleText.className = \"text\";\n    descriptionTitleText.innerText = \"Description\";\n    descriptionText.className = \"text\";\n    descriptionText.innerText = info.description;\n\n    descriptionTitle.append(descriptionTitleIcon);\n    descriptionTitle.append(descriptionTitleText);\n    description.append(descriptionTitle);\n    \n    if (info.description && descriptionActive) {\n        description.append(descriptionText);\n    } else {\n        description.append(notice.cloneNode(true));\n    }\n\n    cast.className = \"details-card\";\n    castTitle.className = \"title\";\n    castTitleIcon.className = \"icon icon-group\";\n    castTitleText.className = \"text\";\n    castTitleText.innerText = \"Cast\";\n    castControl.className = \"control\";\n    castPrevious.className = \"button secondary icon-only previous\";\n    castPreviousIcon.className = \"icon icon-arrow-left\";\n    castIndicators.className = \"indicators\";\n    castNext.className = \"button secondary icon-only next\";\n    castNextIcon.className = \"icon icon-arrow-right\";\n    castCards.className = \"cast-cards\";\n\n    castTitle.append(castTitleIcon);\n    castTitle.append(castTitleText);\n    cast.append(castTitle);\n\n    castPrevious.append(castPreviousIcon);\n    castNext.append(castNextIcon);\n\n    castControl.append(castPrevious);\n    castControl.append(castIndicators);\n    castControl.append(castNext);\n\n    function addCast(info) {\n        const cast = document.createElement(\"div\");\n        const image = document.createElement(\"img\");\n        const text = document.createElement(\"div\");\n        const name = document.createElement(\"span\");\n        const character = document.createElement(\"span\");\n\n        cast.className = \"cast-card\";\n        image.className = \"image\";\n        image.src = info.image;\n        image.alt = info.name;\n        text.className = \"text\";\n        name.className = \"cast-name\";\n        name.innerText = info.name;\n        character.className = \"cast-character\";\n        character.innerText = info.character;\n\n        text.append(name);\n        text.append(character);\n        \n        cast.append(image);\n        cast.append(text);\n        cast.addEventListener(\"click\", function () {\n            window.open(info.url);\n        });\n\n        castCards.append(cast);\n    }\n\n    function setCastIndicators() {\n        castIndicators.innerHTML = \"\";\n\n        castSlides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = castIndex === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                setCast(i);\n            });\n\n            castIndicators.append(indicator);\n        });\n    }\n\n    function setCast(newIndex) {\n        castIndex = castSlides[newIndex] ? newIndex : 0;\n        const slide = castSlides[castIndex];\n\n        castCards.innerHTML = \"\";\n        slide.forEach(addCast);\n\n        setCastIndicators();\n    }\n\n    function setCastPrevious() {\n        setCast(castSlides[castIndex - 1] ? castIndex - 1 : castSlides.length - 1);\n    }\n\n    function setCastNext() {\n        setCast(castSlides[castIndex + 1] ? castIndex + 1 : 0);\n    }\n\n    reviews.className = \"details-card\";\n    reviewsTitle.className = \"title\";\n    reviewsTitleIcon.className = \"icon icon-bookmark\";\n    reviewsTitleText.className = \"text\";\n    reviewsTitleText.innerText = \"Reviews\";\n    reviewsControl.className = \"control\";\n    reviewsPrevious.className = \"button secondary icon-only previous\";\n    reviewsPreviousIcon.className = \"icon icon-arrow-left\";\n    reviewsIndicators.className = \"indicators\";\n    reviewsNext.className = \"button secondary icon-only next\";\n    reviewsNextIcon.className = \"icon icon-arrow-right\";\n    reviewCards.className = \"review-cards\";\n\n    reviewsTitle.append(reviewsTitleIcon);\n    reviewsTitle.append(reviewsTitleText);\n    reviews.append(reviewsTitle);\n\n    reviewsPrevious.append(reviewsPreviousIcon);\n    reviewsNext.append(reviewsNextIcon);\n\n    reviewsControl.append(reviewsPrevious);\n    reviewsControl.append(reviewsIndicators);\n    reviewsControl.append(reviewsNext);\n\n    function addReview(info) {\n        const review = document.createElement(\"div\");\n        const title = document.createElement(\"div\");\n        const titleContainer = document.createElement(\"div\");\n        const titleAvatar = document.createElement(\"div\");\n        const titleAvatarImage = document.createElement(\"img\");\n        const titleText = document.createElement(\"span\");\n\n        const rating = document.createElement(\"div\");\n        const stars = document.createElement(\"div\");\n        const starsAmount = document.createElement(\"div\");\n\n        const content = document.createElement(\"span\");\n\n        review.className = \"review-card\";\n        title.className = \"review-title\";\n        titleContainer.className = \"title-container\";\n\n        if (info.avatar) {\n            titleAvatar.className = \"avatar\";\n            titleAvatarImage.className = \"image\";\n            titleAvatarImage.src = info.avatar;\n        }\n\n        titleText.className = \"author\";\n        titleText.innerText = info.author;\n\n        rating.className = \"rating\";\n        stars.className = \"stars\";\n        starsAmount.className = \"amount rating-text\";\n        starsAmount.innerText = info.rating;\n\n        for (var i = 0; i < 5; i++) {\n            const star = document.createElement(\"div\");\n            const starIcon = document.createElement(\"i\");\n\n            const floored = Math.floor(info.rating);\n            const decimal = info.rating - floored;\n\n            if (i < floored) star.className = \"star fill\";\n            else if (decimal >= 0.5 && i === floored) star.className = \"star half-fill\"\n            else star.className = \"star\";\n            \n            starIcon.className = \"icon icon-star\";\n\n            star.append(starIcon);\n            stars.append(star);\n        }\n\n        rating.append(stars);\n        rating.append(starsAmount);\n\n        if (info.avatar) {\n            titleAvatar.append(titleAvatarImage);\n            titleContainer.append(titleAvatar);\n        }\n\n        titleContainer.append(titleText);\n        title.append(titleContainer);\n        if (info.rating) title.append(rating);\n\n        content.className = \"review-content\";\n        content.innerText = info.content;\n        \n        review.append(title);\n        review.append(content);\n        review.addEventListener(\"click\", function () {\n            window.open(info.url);\n        });\n\n        reviewCards.append(review);\n    }\n\n    function setReviewsIndicators() {\n        reviewsIndicators.innerHTML = \"\";\n\n        reviewSlides.forEach(function (_, i) {\n            const indicator = document.createElement(\"div\");\n\n            indicator.className = reviewIndex === i ? \"indicator active\" : \"indicator\";\n            indicator.addEventListener(\"click\", function () {\n                setReviews(i);\n            });\n\n            reviewsIndicators.append(indicator);\n        });\n    }\n\n    function setReviews(newIndex) {\n        reviewIndex = reviewSlides[newIndex] ? newIndex : 0;\n        const slide = reviewSlides[reviewIndex];\n\n        reviewCards.innerHTML = \"\";\n        slide.forEach(addReview);\n\n        setReviewsIndicators();\n    }\n\n    function setReviewPrevious() {\n        setReviews(reviewSlides[reviewIndex - 1] ? reviewIndex - 1 : reviewSlides.length - 1);\n    }\n\n    function setReviewNext() {\n        setReviews(reviewSlides[reviewIndex + 1] ? reviewIndex + 1 : 0);\n    }\n\n    misc.className = \"details-card misc\";\n    misc.append(miscLeft);\n    misc.append(miscRight);\n\n    languageTitle.className = \"title\";\n    languageTitleIcon.className = \"icon icon-language\";\n    languageTitleText.className = \"text\";\n    languageTitleText.innerText = \"Language\";\n    languageText.className = \"text\";\n    languageText.innerText = info.language;\n\n    languageTitle.append(languageTitleIcon);\n    languageTitle.append(languageTitleText);\n    miscLeft.append(languageTitle);\n\n    if (miscActive && info.language) {\n        miscLeft.append(languageText);\n    } else {\n        miscLeft.append(notice.cloneNode(true));\n    }\n    \n    releasedTitle.className = \"title\";\n    releasedTitleIcon.className = \"icon icon-calendar\";\n    releasedTitleText.className = \"text\";\n    releasedTitleText.innerText = info.type === \"movie\" ? \"Released\" : \"First Aired\";\n    releasedText.className = \"text\";\n    releasedText.innerText = info.date;\n\n    releasedTitle.append(releasedTitleIcon);\n    releasedTitle.append(releasedTitleText);\n    miscRight.append(releasedTitle);\n\n    if (miscActive && info.date) {\n        miscRight.append(releasedText);\n    } else {\n        miscRight.append(notice.cloneNode(true));\n    }\n\n    ratingTitle.className = \"title\";\n    ratingTitleIcon.className = \"icon icon-star\";\n    ratingTitleText.className = \"text\";\n    ratingTitleText.innerText = \"Rating\";\n\n    ratingTitle.append(ratingTitleIcon);\n    ratingTitle.append(ratingTitleText);\n    miscLeft.append(ratingTitle);\n\n    ratingContainer.className = \"rating\";\n    ratingStars.className = \"stars\";\n    ratingStarsAmount.className = \"amount rating-text\";\n    ratingStarsAmount.innerText = info.stars;\n\n    for (var i = 0; i < 5; i++) {\n        const star = document.createElement(\"div\");\n        const starIcon = document.createElement(\"i\");\n\n        const floored = Math.floor(info.rating);\n        const decimal = info.rating - floored;\n\n        if (i < floored) star.className = \"star fill\";\n        else if (decimal >= 0.5 && i === floored) star.className = \"star half-fill\"\n        else star.className = \"star\";\n        \n        starIcon.className = \"icon icon-star\";\n\n        star.append(starIcon);\n        ratingStars.append(star);\n    }\n\n    ratingContainer.append(ratingStars);\n    ratingContainer.append(ratingStarsAmount);\n\n    if (miscActive && info.rating && info.stars) {\n        miscLeft.append(ratingContainer);\n    } else {\n        miscLeft.append(notice.cloneNode(true));\n    }\n\n    genresTitle.className = \"title\";\n    genresTitleIcon.className = \"icon icon-tags\";\n    genresTitleText.className = \"text\";\n    genresTitleText.innerText = \"Genres\";\n    genres.className = \"genre-cards\";\n\n    genresTitle.append(genresTitleIcon);\n    genresTitle.append(genresTitleText);\n    miscRight.append(genresTitle);\n\n    if (miscActive && info.genres && info.genres.length > 0) {\n        for (const name of info.genres) {\n            const genre = document.createElement(\"div\");\n    \n            genre.className = \"genre-card\";\n            genre.innerText = name;\n    \n            genres.append(genre);\n        }\n        \n        miscRight.append(genres);\n    } else {\n        miscRight.append(notice.cloneNode(true));\n    }\n\n    recommendations.className = \"details-card\";\n    recommendationsTitle.className = \"title\";\n    recommendationsTitleIcon.className = \"icon icon-check\";\n    recommendationsTitleText.className = \"text\";\n    recommendationsTitleText.innerText = \"Recommendations\";\n    recommendationsArea.className = \"area minimal\";\n\n    recommendationsTitle.append(recommendationsTitleIcon);\n    recommendationsTitle.append(recommendationsTitleText);\n    recommendations.append(recommendationsTitle);\n    \n    if (recommendationsActive && info.recommendations && info.recommendations.length > 0) {\n        (0,_area_js__WEBPACK_IMPORTED_MODULE_11__.initializeArea)(recommendationsArea, info.recommendations, \"\", null, _config_js__WEBPACK_IMPORTED_MODULE_4__.config.recommendations.split);\n\n        const control = recommendationsArea.querySelector(\".control\");\n        if (control) recommendationsTitle.append(control);\n\n        const label = recommendationsArea.querySelector(\".label\");\n        if (control) label.remove();\n\n        recommendations.append(recommendationsArea);\n    } else {\n        recommendations.append(notice.cloneNode(true));\n    }\n\n    function checkResize() {\n        if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.elementExists)(watch)) return (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.removeWindowResize)(checkResize);\n        const newDesktop = window.innerWidth > _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.max;\n\n        if (desktop !== newDesktop) {\n            desktop = newDesktop;\n            \n            if (castActive && castSlides && castSlides.length !== 0) {\n                castSlides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.splitArray)(info.cast, _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split[desktop ? \"desktop\" : \"mobile\"]);\n\n                castIndex = castIndex === 0 ? 0 : desktop\n                    ? Math.round((castIndex + 1) / (_config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.mobile)) - 1\n                    : Math.round((castIndex + 1) * (_config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_4__.config.cast.split.mobile)) - 2;\n\n                setCast(castIndex);\n            }\n\n            if (reviewsActive && reviewSlides && reviewSlides.length !== 0) {\n                reviewSlides = (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.splitArray)(info.reviews, _config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split[desktop ? \"desktop\" : \"mobile\"]);\n\n                reviewIndex = reviewIndex === 0 ? 0 : desktop\n                    ? Math.round((reviewIndex + 1) / (_config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split.mobile)) - 1\n                    : Math.round((reviewIndex + 1) * (_config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split.desktop / _config_js__WEBPACK_IMPORTED_MODULE_4__.config.reviews.split.mobile)) - 2;\n\n                setReviews(reviewIndex);\n            }\n        }\n    }\n\n    function cleanup() {\n        if (seasonsActive && info.seasons) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.unloadImages)(info.seasons.map((s) => s.episodes.map((e) => e.image)).flat(1));\n        if (castActive && info.cast) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.unloadImages)(info.cast.map((p) => p.image));\n        if (reviewsActive && info.reviews) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.unloadImages)(info.reviews.filter((r) => r.avatar).map((r) => r.avatar));\n        if (recommendationsActive && recommendationImages) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.unloadImages)(recommendationImages, true);\n    }\n\n    (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onWindowResize)(checkResize);\n\n    if (castActive && castSlides) {\n        setCast(castIndex);\n\n        castPrevious.addEventListener(\"click\", setCastPrevious);\n        castNext.addEventListener(\"click\", setCastNext);\n\n        castTitle.append(castControl);\n        cast.append(castCards);\n    } else {\n        cast.append(notice.cloneNode(true));\n    }\n\n    if (reviewsActive && reviewSlides) {\n        setReviews(reviewIndex);\n\n        reviewsPrevious.addEventListener(\"click\", setReviewPrevious);\n        reviewsNext.addEventListener(\"click\", setReviewNext);\n\n        reviewsTitle.append(reviewsControl);\n        reviews.append(reviewCards);\n    } else {\n        reviews.append(notice.cloneNode(true));\n    }\n\n    if (videoActive && providersActive) {\n        left.append(providersElem);\n    }\n\n    if (info.type === \"tv\" && seasonsActive) {\n        left.append(seasons);\n    }\n\n    if (descriptionActive) left.append(description);\n    if (castActive) left.append(cast);\n    if (reviewsActive) left.append(reviews);\n\n    if (left.childElementCount === 0) {\n        right.classList.add(\"full-width\");\n        left.remove();\n    }\n\n    if (miscActive) right.append(misc);\n    if (recommendationsActive) right.append(recommendations);\n\n    if (right.childElementCount === 0) {\n        if (left) left.classList.add(\"full-width\");\n        right.remove();\n    }\n\n    if (videoActive) watch.append(video);\n    if ((left.childElementCount + right.childElementCount) !== 0) watch.append(details);\n    else watch.classList.add(\"only-video\");\n\n    (0,_modal_js__WEBPACK_IMPORTED_MODULE_1__.setModal)(info.title, null, watch, \"times\", true, info.type);\n    checkCurrentlyPlaying();\n    (0,_modal_js__WEBPACK_IMPORTED_MODULE_1__.showModal)(cleanup);\n\n    if (videoActive) {\n        function checkVideoResize() {\n            if (!(0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.elementExists)(watch)) return (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.removeWindowResize)(checkResize);\n\n            const isFirefox = navigator.userAgent?.toLowerCase().includes(\"firefox\");\n            video.style.marginLeft = isFirefox\n                ? `calc(-50dvw + ${video.parentElement?.clientWidth}px / 2 - 3px)`\n                : `calc(-50dvw + ${video.parentElement?.clientWidth}px / 2)`;\n        }\n        \n        (0,_functions_js__WEBPACK_IMPORTED_MODULE_3__.onWindowResize)(checkVideoResize);\n        checkVideoResize();\n\n        video.scrollIntoView({ block: \"center\" });\n    }\n}\n\nfunction initializeWatchModalCheck() {\n    async function handleQueryChange() {\n        const modalQuery = (0,_query_js__WEBPACK_IMPORTED_MODULE_0__.getQuery)(_config_js__WEBPACK_IMPORTED_MODULE_4__.config.query.modal);\n\n        if (modalQuery) {\n            const [type, id] = modalQuery.split(\"-\");\n\n            if (type !== \"g\" && _config_js__WEBPACK_IMPORTED_MODULE_4__.config.modal.validTypes.includes(type)) {\n                (0,_modal_js__WEBPACK_IMPORTED_MODULE_1__.hideModal)(true);\n                \n                const info = await (0,_api_details_js__WEBPACK_IMPORTED_MODULE_2__.getDetails)(type === \"m\" ? \"movie\" : \"tv\", id);\n\n                if (info && info.title) {\n                    let recommendationImages = [];\n\n                    if (info.seasons && (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Seasons\")) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.preloadImages)(info.seasons.map((s) => s.episodes.map((e) => e.image)).flat(1));\n                    if (info.cast && (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Cast\")) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.preloadImages)(info.cast.map((p) => p.image));\n                    if (info.reviews && (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Reviews\")) (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.preloadImages)(info.reviews.filter((r) => r.avatar).map((r) => r.avatar));\n\n                    if (info.recommendations && (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_9__.getWatchSection)(\"Recommendations\")) {\n                        recommendationImages = (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.getNonCachedImages)(info.recommendations.map((r) => r.image));\n                        (0,_cache_js__WEBPACK_IMPORTED_MODULE_6__.preloadImages)(recommendationImages, null, true);\n                    }\n\n                    modal(info, recommendationImages);\n                } else {\n                    (0,_query_js__WEBPACK_IMPORTED_MODULE_0__.removeQuery)(_config_js__WEBPACK_IMPORTED_MODULE_4__.config.query.modal);\n                }\n            }\n        }\n    }\n\n    handleQueryChange();\n    (0,_query_js__WEBPACK_IMPORTED_MODULE_0__.onQueryChange)(handleQueryChange);\n}\n\nfunction initializeWatch() {\n    initializeWatchModalCheck();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/components/watch.js?");

/***/ }),

/***/ "./src/scripts/config.js":
/*!*******************************!*\
  !*** ./src/scripts/config.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adult: () => (/* binding */ adult),\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   providers: () => (/* binding */ providers),\n/* harmony export */   proxies: () => (/* binding */ proxies),\n/* harmony export */   sections: () => (/* binding */ sections),\n/* harmony export */   settings: () => (/* binding */ settings),\n/* harmony export */   store: () => (/* binding */ store),\n/* harmony export */   themes: () => (/* binding */ themes),\n/* harmony export */   watchSections: () => (/* binding */ watchSections)\n/* harmony export */ });\n/* harmony import */ var _store_theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store/theme.js */ \"./src/scripts/store/theme.js\");\n/* harmony import */ var _store_adult_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/adult.js */ \"./src/scripts/store/adult.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/pages.js */ \"./src/scripts/store/pages.js\");\n/* harmony import */ var _store_sections_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./store/sections.js */ \"./src/scripts/store/sections.js\");\n/* harmony import */ var _store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./store/watch-sections.js */ \"./src/scripts/store/watch-sections.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _store_continue_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./store/continue.js */ \"./src/scripts/store/continue.js\");\n/* harmony import */ var _store_last_played_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./store/last-played.js */ \"./src/scripts/store/last-played.js\");\n/* harmony import */ var _api_languages_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./api/languages.js */ \"./src/scripts/api/languages.js\");\n/* harmony import */ var _store_language_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./store/language.js */ \"./src/scripts/store/language.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst config = {\n    author: \"Snipcola\",\n    name: \"FilmHaven\",\n    defaultLanguage: \"en\",\n    header: {\n        name: {\n            normal: {\n                text: \"Film\",\n                accent: \"Haven\"\n            },\n            mobile: {\n                text: \"F\",\n                accent: \"H\"\n            }\n        },\n        links: [\n            {\n                icon: \"home\",\n                text: \"Home\"\n            },\n            {\n                icon: \"film\",\n                text: \"Movies\"\n            },\n            {\n                icon: \"tv\",\n                text: \"Shows\"\n            },\n            {\n                icon: \"cog\",\n                text: \"Settings\"\n            }\n        ]\n    },\n    footer: {\n        links: [\n            {\n                icon: \"file\",\n                url: window.location.pathname,\n                label: \"Download\",\n                download: \"FilmHaven.html\"\n            },\n            {\n                icon: \"youtube\",\n                url: \"https://youtube.com/snipcola\",\n                label: \"YouTube\"\n            },\n            {\n                icon: \"github\",\n                url: \"https://github.com/snipcola\",\n                label: \"GitHub\"\n            }\n        ]\n    },\n    modal: {\n        validTypes: [\"g\", \"m\", \"s\"]\n    },\n    search: {\n        debounce: 500\n    },\n    carousel: {\n        amount: 4,\n        switchSlideInterval: 10000\n    },\n    area: {\n        maxTitleLength: 25,\n        amount: 16,\n        split: {\n            max: 700,\n            desktop: 4,\n            mobile: 2\n        }\n    },\n    genre: {\n        split: {\n            max: 900,\n            desktop: 5,\n            mobile: 2\n        }\n    },\n    cast: {\n        split: {\n            max: 700,\n            desktop: 4,\n            mobile: 2\n        }\n    },\n    reviews: {\n        split: {\n            max: 700,\n            desktop: 2,\n            mobile: 1\n        }\n    },\n    recommendations: {\n        amount: 8,\n        split: {\n            max: 700,\n            desktop: 2,\n            mobile: 2\n        }\n    },\n    query: {\n        page: \"p\",\n        modal: \"m\"\n    },\n    maxDescriptionLength: 230,\n    maxReviewContentLength: 230,\n    maxCacheDays: 5,\n    maxMobileWidth: 700\n};\n\nconst api = {\n    url: \"https://api.themoviedb.org\",\n    version: \"3\",\n    key: \"5622cafbfe8f8cfe358a29c53e19bba0\",\n    image: {\n        url: \"https://image.tmdb.org/t/p\",\n        poster: \"w342\",\n        backdrop: \"w1280\",\n        cast: \"w150_and_h150_face\",\n        avatar: \"w150_and_h150_face\",\n        episode: \"w185\"\n    },\n    trending: {\n        timeWindow: \"week\"\n    }\n};\n\nconst proxies = [\n    {\n        base: \"https://fh-proxy.snipcola.com\",\n        url: function (path) {\n            return `https://fh-proxy.snipcola.com/?url=${path}`;\n        }\n    },\n    {\n        base: \"https://fh-site.vercel.app/proxy\",\n        url: function (path) {\n            return `https://fh-site.vercel.app/proxy?url=${path}`;\n        }\n    }\n];\n\nconst providers = {\n    \"vidsrc.to\": {\n        movieUrl: function ({ id }) {\n            return `https://vidsrc.to/embed/movie/${id}`;\n        },\n        showUrl: function ({ id, season, episode }) {\n            return `https://vidsrc.to/embed/tv/${id}/${season}/${episode}`;\n        }\n    },\n    \"vidsrc.me\": {\n        movieUrl: function ({ id }) {\n            return `https://vidsrc.me/embed/movie?tmdb=${id}`;\n        },\n        showUrl: function ({ id, season, episode }) {\n            return `https://vidsrc.me/embed/tv?tmdb=${id}&season=${season}&episode=${episode}`;\n        }\n    },\n    \"flixon.lol\": {\n        movieUrl: function ({ imdbId }) {\n            return `https://flixon.lol/${imdbId}`;\n        },\n        showUrl: function ({ id, season, episode }) {\n            return `https://flixon.lol/${id}-${season}-${episode}`;\n        } \n    },\n    \"2embed.me\": {\n        movieUrl: function ({ imdbId }) {\n            return `https://2embed.me/player/movie/${imdbId}`;\n        },\n        showUrl: function ({ id, season, episode }) {\n            return `https://2embed.me/player/tv/${id}/S${season}/E${episode}`;\n        } \n    },\n    \"databasegdriveplayer.xyz\": {\n        movieUrl: function ({ id }) {\n            return `https://databasegdriveplayer.xyz/player.php?tmdb=${id}`;\n        },\n        showUrl: function ({ id, season, episode }) {\n            return `https://databasegdriveplayer.xyz/player.php?type=series&tmdb=${id}&season=${season}&episode=${episode}`;\n        } \n    }\n};\n\nconst store = {\n    names: {\n        cache: function (key) {\n            return `fhc-${key}`;\n        },\n        theme: \"fh-theme\",\n        adult: \"fh-adult\",\n        language: \"fh-language\",\n        provider: \"fh-provider\",\n        lastPlayed: \"fh-last-played\",\n        pages: \"fh-pages\",\n        sections: \"fh-sections\",\n        watchSections: \"fh-watch-sections\",\n        continue: \"fh-continue\"\n    }\n};\n\nconst themes = {\n    auto: \"Auto\",\n    dark: \"Dark\",\n    light: \"Light\"\n};\n\nconst adult = {\n    show: \"Show\",\n    hide: \"Hide\"\n};\n\nconst sections = {\n    Search: true,\n    Continue: true,\n    Carousel: true,\n    Genres: true,\n    Trending: true,\n    \"Top-Rated\": true,\n    New: true\n};\n\nconst watchSections = {\n    Video: true,\n    Providers: true,\n    Seasons: true,\n    Description: true,\n    Cast: true,\n    Reviews: true,\n    Misc: true,\n    Recommendations: true\n};\n\nconst settings = [\n    {\n        label: {\n            icon: \"paint-brush\",\n            text: \"Theme\"\n        },\n        items: function () {\n            const currentTheme = (0,_store_theme_js__WEBPACK_IMPORTED_MODULE_0__.getTheme)();\n            const themeItems = Object.values(themes);\n            \n            return themeItems.map((t) => ({\n                label: t,\n                value: t.toLowerCase(),\n                active: t.toLowerCase() === currentTheme\n            }));\n        },\n        onSelect: _store_theme_js__WEBPACK_IMPORTED_MODULE_0__.setTheme,\n        type: \"select\"\n    },\n    {\n        label: {\n            icon: \"censor\",\n            text: \"Adult Content\"\n        },\n        items: function () {\n            const currentAdult = (0,_store_adult_js__WEBPACK_IMPORTED_MODULE_1__.getAdult)();\n            const adultItems = Object.values(adult);\n\n            return adultItems.map((a) => ({\n                label: a,\n                value: a.toLowerCase(),\n                active: a.toLowerCase() === currentAdult\n            }));\n        },\n        onSelect: _store_adult_js__WEBPACK_IMPORTED_MODULE_1__.setAdult,\n        type: \"select\"\n    },\n    {\n        label: {\n            icon: \"language\",\n            text: \"Language (reset required)\"\n        },\n        items: async function () {\n            const languages = await (0,_api_languages_js__WEBPACK_IMPORTED_MODULE_8__.getLanguages)();\n\n            return languages.map((l) => ({\n                label: l.name,\n                value: l.value,\n                active: l.value === (0,_store_language_js__WEBPACK_IMPORTED_MODULE_9__.getLanguage)()\n            }));\n        },\n        onSelect: function (l) {\n            (0,_store_language_js__WEBPACK_IMPORTED_MODULE_9__.setLanguage)(l);\n            (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.resetCache)();\n            (0,_store_continue_js__WEBPACK_IMPORTED_MODULE_6__.resetContinueWatching)();\n            (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_7__.resetLastPlayed)();\n\n            document.body.classList.remove(\"active\");\n            window.location.href = `${window.location.origin}${window.location.pathname}?${config.query.page}=4`;\n        },\n        type: \"select\"\n    },\n    {\n        label: {\n            icon: \"list\",\n            text: \"Presets\"\n        },\n        items: function () {\n            return [\n                {\n                    label: \"...\",\n                    value: \"\",\n                    placeholder: true\n                },\n                {\n                    label: \"Full\",\n                    value: \"full\"\n                },\n                {\n                    label: \"Minimal\",\n                    value: \"minimal\"\n                },\n                {\n                    label: \"Minimal+\",\n                    value: \"extra-minimal\"\n                }\n            ];\n        },\n        onSelect: function (i) {\n            if (i === \"full\") {\n                const pages = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.getPages)();\n                const sections = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.getSections)();\n                const watchSections = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSections)();\n\n                for (const page of Object.keys(pages)) {\n                    (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.setPage)(page, true);\n                }\n\n                for (const section of Object.keys(sections)) {\n                    (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.setSection)(section, true);\n                }\n\n                for (const watchSection of Object.keys(watchSections)) {\n                    (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.setWatchSection)(watchSection, true);\n                }\n\n                document.body.classList.remove(\"active\");\n                window.location.href = `${window.location.origin}${window.location.pathname}?${config.query.page}=4`;\n            } else if (i === \"minimal\") {\n                const pages = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.getPages)();\n                const sections = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.getSections)();\n                const watchSections = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSections)();\n\n                for (const page of Object.keys(pages)) {\n                    (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.setPage)(page, [\"Home\"].includes(page));\n                }\n\n                for (const section of Object.keys(sections)) {\n                    (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.setSection)(section, [\"Search\", \"Continue\", \"Carousel\", \"Genres\"].includes(section));\n                }\n\n                for (const watchSection of Object.keys(watchSections)) {\n                    (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.setWatchSection)(watchSection, [\"Video\", \"Providers\", \"Seasons\"].includes(watchSection));\n                }\n\n                document.body.classList.remove(\"active\");\n                window.location.href = `${window.location.origin}${window.location.pathname}?${config.query.page}=2`;\n            } else {\n                const pages = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.getPages)();\n                const sections = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.getSections)();\n                const watchSections = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSections)();\n\n                for (const page of Object.keys(pages)) {\n                    (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.setPage)(page, [\"Home\"].includes(page));\n                }\n\n                for (const section of Object.keys(sections)) {\n                    (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.setSection)(section, [\"Search\", \"Continue\"].includes(section));\n                }\n\n                for (const watchSection of Object.keys(watchSections)) {\n                    (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.setWatchSection)(watchSection, [\"Video\"].includes(watchSection));\n                }\n\n                document.body.classList.remove(\"active\");\n                window.location.href = `${window.location.origin}${window.location.pathname}?${config.query.page}=2`;\n            }\n        },\n        preventChange: true,\n        type: \"select\"\n    },\n    {\n        label: {\n            icon: \"file\",\n            text: \"Pages (refresh required)\"\n        },\n        items: function () {\n            const pages = (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.getPages)();\n\n            return Object.entries(pages).map(([p, a]) => ({\n                label: p,\n                value: p,\n                active: a\n            }));\n        },\n        onClick: function (p) {\n            (0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.setPage)(p, !(0,_store_pages_js__WEBPACK_IMPORTED_MODULE_2__.getPage)(p));\n        },\n        type: \"selection\",\n        multi: true\n    },\n    {\n        label: {\n            icon: \"tags\",\n            text: \"Sections (refresh required)\"\n        },\n        items: function () {\n            const sections = (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.getSections)();\n\n            return Object.entries(sections).map(([s, a]) => ({\n                label: s,\n                value: s,\n                active: a\n            }));\n        },\n        onClick: function (s) {\n            (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.setSection)(s, !(0,_store_sections_js__WEBPACK_IMPORTED_MODULE_3__.getSection)(s));\n        },\n        type: \"selection\",\n        multi: true\n    },\n    {\n        label: {\n            icon: \"play\",\n            text: \"Watch Sections\"\n        },\n        items: function () {\n            const watchSections = (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSections)();\n\n            return Object.entries(watchSections).map(([w, a]) => ({\n                label: w,\n                value: w,\n                active: a\n            }));\n        },\n        onClick: function (w) {\n            (0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.setWatchSection)(w, !(0,_store_watch_sections_js__WEBPACK_IMPORTED_MODULE_4__.getWatchSection)(w));\n        },\n        type: \"selection\",\n        multi: true\n    },\n    {\n        label: {\n            icon: \"box\",\n            text: \"Data\"\n        },\n        items: function () {\n            return [\n                {\n                    label: {\n                        icon: \"sync\",\n                        text: \"Reset\"\n                    },\n                    onClick: function (self) {\n                        localStorage.clear();\n\n                        document.body.classList.remove(\"active\");\n                        window.location.href = `${window.location.origin}${window.location.pathname}?${config.query.page}=4`;\n\n                        self.classList.add(\"inactive\");\n                        self.querySelector(\".icon\").className = \"icon icon-check\";\n                    }\n                },\n                {\n                    label: {\n                        icon: \"sync\",\n                        text: \"Empty Cache\"\n                    },\n                    onClick: function (self) {\n                        (0,_cache_js__WEBPACK_IMPORTED_MODULE_5__.resetCache)();\n                        document.body.classList.remove(\"active\");\n                        window.location.reload();\n\n                        self.classList.add(\"inactive\");\n                        self.querySelector(\".icon\").className = \"icon icon-check\";\n                    }\n                },\n                {\n                    label: {\n                        icon: \"eye-slash\",\n                        text: \"Clear Continue Watching\"\n                    },\n                    class: \"secondary\",\n                    onClick: function (self) {\n                        (0,_store_continue_js__WEBPACK_IMPORTED_MODULE_6__.resetContinueWatching)();\n\n                        self.classList.add(\"inactive\");\n                        self.querySelector(\".icon\").className = \"icon icon-check\";\n\n                        setTimeout(function () {\n                            self.querySelector(\".icon\").className = \"icon icon-eye-slash\";\n                            self.classList.remove(\"inactive\");\n                        }, 2500);\n                    }\n                },\n                {\n                    label: {\n                        icon: \"eye-slash\",\n                        text: \"Clear Last Watched\"\n                    },\n                    class: \"secondary\",\n                    onClick: function (self) {\n                        (0,_store_last_played_js__WEBPACK_IMPORTED_MODULE_7__.resetLastPlayed)();\n\n                        self.classList.add(\"inactive\");\n                        self.querySelector(\".icon\").className = \"icon icon-check\";\n\n                        setTimeout(function () {\n                            self.querySelector(\".icon\").className = \"icon icon-eye-slash\";\n                            self.classList.remove(\"inactive\");\n                        }, 2500);\n                    }\n                }\n            ];\n        },\n        type: \"buttons\"\n    }\n];\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/config.js?");

/***/ }),

/***/ "./src/scripts/functions.js":
/*!**********************************!*\
  !*** ./src/scripts/functions.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanText: () => (/* binding */ cleanText),\n/* harmony export */   convertMinutesToText: () => (/* binding */ convertMinutesToText),\n/* harmony export */   copyText: () => (/* binding */ copyText),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   elementExists: () => (/* binding */ elementExists),\n/* harmony export */   getCenteringDirection: () => (/* binding */ getCenteringDirection),\n/* harmony export */   getInnerText: () => (/* binding */ getInnerText),\n/* harmony export */   getSearchUrl: () => (/* binding */ getSearchUrl),\n/* harmony export */   isHovered: () => (/* binding */ isHovered),\n/* harmony export */   onKeyPress: () => (/* binding */ onKeyPress),\n/* harmony export */   onWindowResize: () => (/* binding */ onWindowResize),\n/* harmony export */   removeWindowResize: () => (/* binding */ removeWindowResize),\n/* harmony export */   scrollToElement: () => (/* binding */ scrollToElement),\n/* harmony export */   shortenNumber: () => (/* binding */ shortenNumber),\n/* harmony export */   splitArray: () => (/* binding */ splitArray)\n/* harmony export */ });\nfunction onKeyPress(key, prevent, active, depends, callback) {\n    function listener(e) {\n        if (depends && !elementExists(depends)) {\n            document.removeEventListener(\"keypress\", listener);\n            return;\n        }\n\n        if (e.key.toLowerCase() === key && (!active || document.activeElement !== active)) {\n            if (prevent) e.preventDefault();\n            if (callback) callback();\n        }\n    }\n\n    document.addEventListener(\"keypress\", listener);\n}\n\nfunction getCenteringDirection(element) {\n    const rect = element.getBoundingClientRect();\n    \n    if (rect) {\n        const windowHeight = window.innerHeight;\n        const verticalCenter = windowHeight / 2;\n        const distanceFromCenter = (rect.top + (rect.height / 2)) - verticalCenter;\n\n        if (Math.abs(distanceFromCenter) < windowHeight / 500) {\n            return;\n        } else if (distanceFromCenter < 0) {\n            return \"up\";\n        } else {\n            return \"down\";\n        }\n    }\n\n    return;\n}\n\nfunction scrollToElement(element, offset = 0) {\n    const bodyTop = document.body?.getBoundingClientRect()?.top;\n    const elementTop = element?.getBoundingClientRect()?.top;\n\n    if (bodyTop && elementTop) {\n        window.scrollTo({ top: (elementTop - bodyTop) + offset });\n    }\n}\n\nfunction convertMinutesToText(minutes) {\n    if (minutes < 60) return `${minutes}m`;\n    else {\n        const hours = Math.floor(minutes / 60);\n        const remainingMins = minutes % 60;\n\n        if (remainingMins === 0) return `${hours}h`;\n        else return `${hours}h ${remainingMins}m`;\n    }\n}\n\nfunction copyText(text) {\n    window.navigator.clipboard.writeText(text);\n}\n\nfunction getSearchUrl(query) {\n    return `https://duckduckgo.com/?q=${query.replace(/ /g, \"+\")}`\n}\n\nfunction cleanText(input) {\n    return input.replace(/(?:__|[*#])|\\[(.*?)\\]\\(.*?\\)/gm, \"$1\").replace(/\\r\\n/g, \" \").replace(/[_<>]/g, \"\").replace(/(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w\\.-]*)/g, \"\");\n}\n\nfunction debounce(func, delay) {\n    let timeoutId;\n\n    return function (...args) {\n        clearTimeout(timeoutId);\n        timeoutId = setTimeout(function () {\n            func(...args);\n        }, delay);\n    };\n}\n\nfunction elementExists(element) {\n    return document.body.contains(element);\n}\n\nfunction onWindowResize(callback) {\n    window.addEventListener(\"resize\", callback);\n}\n\nfunction removeWindowResize(callback) {\n    window.removeEventListener(\"resize\", callback);\n}\n\nfunction getInnerText(element) {\n    return element?.textContent?.match(/[A-Za-z]+/g)?.join(\"\");\n}\n\nfunction isHovered(element) {\n    return element.matches(\":hover\");\n}\n\nfunction shortenNumber(number, fixed) {\n    number = number.toString().replace(/[^0-9.]/g, \"\");\n\n    if (number < 1000) {\n        return number;\n    }\n\n    const shortIndex = [\n        { v: 1E3, s: \"K\" },\n        { v: 1E6, s: \"M\" },\n        { v: 1E9, s: \"B\" },\n        { v: 1E12, s: \"T\" },\n        { v: 1E15, s: \"P\" },\n        { v: 1E18, s: \"E\" }\n    ];\n\n    let index;\n\n    for (index = shortIndex.length - 1; index > 0; index--) {\n        if (number >= shortIndex[index].v) {\n            break;\n        }\n    }\n\n    return (number / shortIndex[index].v).toFixed(fixed || 2).replace(/\\.0+$|(\\.[0-9]*[1-9])0+$/, \"$1\") + shortIndex[index].s;\n}\n\nfunction splitArray(array, amount = 1) {\n    const newArray = [];\n\n    for (let i = 0; i < array.length; i += amount) {\n        newArray.push(array.slice(i, i + amount));\n    }\n\n    return newArray;\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/functions.js?");

/***/ }),

/***/ "./src/scripts/main.js":
/*!*****************************!*\
  !*** ./src/scripts/main.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/theme.js */ \"./src/scripts/components/theme.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cache.js */ \"./src/scripts/cache.js\");\n/* harmony import */ var _components_modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/modal.js */ \"./src/scripts/components/modal.js\");\n/* harmony import */ var _components_content_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/content.js */ \"./src/scripts/components/content.js\");\n/* harmony import */ var _components_header_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/header.js */ \"./src/scripts/components/header.js\");\n/* harmony import */ var _components_footer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/footer.js */ \"./src/scripts/components/footer.js\");\n/* harmony import */ var _components_watch_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/watch.js */ \"./src/scripts/components/watch.js\");\n/* harmony import */ var _components_carousel_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/carousel.js */ \"./src/scripts/components/carousel.js\");\n/* harmony import */ var _components_search_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/search.js */ \"./src/scripts/components/search.js\");\n/* harmony import */ var _components_continue_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/continue.js */ \"./src/scripts/components/continue.js\");\n/* harmony import */ var _components_genres_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/genres.js */ \"./src/scripts/components/genres.js\");\n/* harmony import */ var _components_area_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/area.js */ \"./src/scripts/components/area.js\");\n/* harmony import */ var _components_settings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/settings.js */ \"./src/scripts/components/settings.js\");\n/* harmony import */ var _store_pages_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./store/pages.js */ \"./src/scripts/store/pages.js\");\n/* harmony import */ var _store_sections_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./store/sections.js */ \"./src/scripts/store/sections.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet container;\nlet contentContainer;\nlet content;\n\nfunction enableBody() {\n    document.body.classList.add(\"active\");\n}\n\nfunction initializeBody() {\n    container = document.createElement(\"div\");\n    contentContainer = document.createElement(\"div\");\n    content = (0,_components_content_js__WEBPACK_IMPORTED_MODULE_3__.initializeContent)(contentContainer);\n\n    container.className = \"container\";\n    contentContainer.className = \"content-container\";\n    \n    container.append(contentContainer);\n    document.body.append(container);\n}\n\nfunction initializeAll() {\n    (0,_components_theme_js__WEBPACK_IMPORTED_MODULE_0__.initializeTheme)();\n    (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.initializeCache)();\n\n    (0,_components_modal_js__WEBPACK_IMPORTED_MODULE_2__.initializeModal)();\n    initializeBody();\n\n    (0,_components_header_js__WEBPACK_IMPORTED_MODULE_4__.initializeHeader)(container, content);\n    (0,_components_footer_js__WEBPACK_IMPORTED_MODULE_5__.initializeFooter)(container);\n    (0,_components_watch_js__WEBPACK_IMPORTED_MODULE_6__.initializeWatch)();\n\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_13__.getPage)(\"Home\") && (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_14__.getSection)(\"Search\")) (0,_components_search_js__WEBPACK_IMPORTED_MODULE_8__.initializeSearches)();\n    if ((0,_store_pages_js__WEBPACK_IMPORTED_MODULE_13__.getPage)(\"Home\") && (0,_store_sections_js__WEBPACK_IMPORTED_MODULE_14__.getSection)(\"Continue\")) (0,_components_continue_js__WEBPACK_IMPORTED_MODULE_9__.initializeContinue)();\n\n    if ((0,_store_sections_js__WEBPACK_IMPORTED_MODULE_14__.getSection)(\"Carousel\")) (0,_components_carousel_js__WEBPACK_IMPORTED_MODULE_7__.initializeCarousels)();\n    else content.classList.add(\"no-carousel\");\n    if ((0,_store_sections_js__WEBPACK_IMPORTED_MODULE_14__.getSection)(\"Genres\")) (0,_components_genres_js__WEBPACK_IMPORTED_MODULE_10__.initializeGenres)();\n    (0,_components_area_js__WEBPACK_IMPORTED_MODULE_11__.initializeAreas)();\n\n    (0,_components_settings_js__WEBPACK_IMPORTED_MODULE_12__.initializeSettings)();\n    enableBody();\n}\n\ninitializeAll();\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/main.js?");

/***/ }),

/***/ "./src/scripts/query.js":
/*!******************************!*\
  !*** ./src/scripts/query.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getQuery: () => (/* binding */ getQuery),\n/* harmony export */   onQueryChange: () => (/* binding */ onQueryChange),\n/* harmony export */   removeQuery: () => (/* binding */ removeQuery),\n/* harmony export */   setQuery: () => (/* binding */ setQuery)\n/* harmony export */ });\nfunction setQuery(key, value) {\n    if (key === null || key === undefined) {\n        return;\n    }\n\n    const params = new URLSearchParams(window.location.search);\n\n    if (value !== null && value !== undefined) {\n        params.set(key, encodeURIComponent(value));\n    } else {\n        params.delete(key);\n    }\n\n    const currentPath = `${window.location.pathname}${window.location.search}`;\n    const newPath = `${window.location.pathname}?${params.toString()}`;\n\n    if (currentPath !== newPath) window.history.pushState({}, \"\", newPath);\n}\n\nfunction removeQuery(key) {\n    setQuery(key, null);\n}\n\nfunction getQuery(key) {\n    const params = new URLSearchParams(window.location.search);\n    const value = params.get(key);\n\n    return value ? decodeURIComponent(value) : null;\n}\n\nconst callbacks = [];\n\nfunction onQueryChange(callback) {\n    callbacks.push(callback);\n}\n\nlet query = window.location.search;\n\nfunction checkChange() {\n    const newQuery = window.location.search;\n\n    if (query !== newQuery) {\n        query = newQuery;\n        \n        for (const callback of callbacks) {\n            callback();\n        }\n    }\n}\n\nsetInterval(checkChange, 50);\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/query.js?");

/***/ }),

/***/ "./src/scripts/store/adult.js":
/*!************************************!*\
  !*** ./src/scripts/store/adult.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdult: () => (/* binding */ getAdult),\n/* harmony export */   setAdult: () => (/* binding */ setAdult)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const adult = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.adult);\n    return adult;\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.adult, data);\n}\n\nfunction getAdult() {\n    const adult = get();\n\n    if (adult) {\n        return adult;\n    } else {\n        const defaultAdult = Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_0__.adult)[0];\n        setAdult(defaultAdult);\n        return defaultAdult;\n    }\n}\n\nfunction setAdult(adult) {\n    set(adult);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/adult.js?");

/***/ }),

/***/ "./src/scripts/store/continue.js":
/*!***************************************!*\
  !*** ./src/scripts/store/continue.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addContinueWatching: () => (/* binding */ addContinueWatching),\n/* harmony export */   getContinueWatching: () => (/* binding */ getContinueWatching),\n/* harmony export */   isInContinueWatching: () => (/* binding */ isInContinueWatching),\n/* harmony export */   removeFromContinueWatching: () => (/* binding */ removeFromContinueWatching),\n/* harmony export */   resetContinueWatching: () => (/* binding */ resetContinueWatching)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _cache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cache.js */ \"./src/scripts/cache.js\");\n\n\n\nfunction get() {\n    const continueWatching = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.continue);\n    let json;\n    \n    try { json = JSON.parse(continueWatching) }\n    catch { json = [] };\n\n    return json || [];\n}\n\nfunction set(data) {\n    const jsonData = JSON.stringify(data);\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.continue, jsonData);\n}\n\nfunction cleanup(record) {\n    if ((0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.isDeletable)(record?.image)) (0,_cache_js__WEBPACK_IMPORTED_MODULE_1__.unloadImages)([record.image]);\n}\n\nfunction getContinueWatching() {\n    const continueWatching = get();\n    return continueWatching\n        .sort((a, b) => new Date(b.date) - new Date(a.date))\n        .map(function (item) {\n            const date = new Date(item.date);\n\n            return {\n                ...item,\n                continue: true,\n                date: date\n                    ? `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, \"0\")}-${date.getDate().toString().padStart(2, \"0\")}`\n                    : null\n            };\n        });\n}\n\nfunction isInContinueWatching(id, type) {\n    const continueWatching = getContinueWatching();\n    return continueWatching.find((i) => i.id === id && i.type === type) !== null;\n}\n\nfunction addContinueWatching(id, type, title, image) {\n    const records = getContinueWatching();\n\n    const existingRecord = records.findIndex((r) => r.id === id);\n    const newRecord = { id, type, title, image, date: new Date().toISOString() };\n\n    if (existingRecord !== -1) {\n        records[existingRecord] = newRecord;\n    } else {\n        records.unshift(newRecord);\n\n        if (records.length > _config_js__WEBPACK_IMPORTED_MODULE_0__.config.area.amount) {\n            const record = records.pop();\n            cleanup(record);\n        }\n    }\n\n    set(records);\n}\n\nfunction removeFromContinueWatching(id, type) {\n    const records = getContinueWatching();\n    const newRecords = records.filter((r) => !(r.id === id && r.type === type));\n\n    const record = records.find((r) => r.id === id && r.type === type);\n    cleanup(record);\n\n    set(newRecords);\n}\n\nfunction resetContinueWatching() {\n    for (const record of getContinueWatching()) {\n        cleanup(record);\n    }\n\n    localStorage.removeItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.continue);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/continue.js?");

/***/ }),

/***/ "./src/scripts/store/language.js":
/*!***************************************!*\
  !*** ./src/scripts/store/language.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLanguage: () => (/* binding */ getLanguage),\n/* harmony export */   setLanguage: () => (/* binding */ setLanguage)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const language = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.language);\n    return language;\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.language, data);\n}\n\nfunction getLanguage() {\n    const language = get();\n\n    if (language) {\n        return language;\n    } else {\n        setLanguage(_config_js__WEBPACK_IMPORTED_MODULE_0__.config.defaultLanguage);\n        return _config_js__WEBPACK_IMPORTED_MODULE_0__.config.defaultLanguage;\n    }\n}\n\nfunction setLanguage(language) {\n    set(language);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/language.js?");

/***/ }),

/***/ "./src/scripts/store/last-played.js":
/*!******************************************!*\
  !*** ./src/scripts/store/last-played.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLastPlayed: () => (/* binding */ getLastPlayed),\n/* harmony export */   resetLastPlayed: () => (/* binding */ resetLastPlayed),\n/* harmony export */   setLastPlayed: () => (/* binding */ setLastPlayed)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const lastPlayed = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.lastPlayed);\n    let json;\n    \n    try { json = JSON.parse(lastPlayed) }\n    catch { json = [] };\n\n    return json || [];\n}\n\nfunction set(data) {\n    const jsonData = JSON.stringify(data);\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.lastPlayed, jsonData);\n}\n\nfunction getLastPlayed(id) {\n    const lastPlayed = get();\n    const record = lastPlayed.find((i) => i.id === id);\n\n    if (record) {\n        return record;\n    } else {\n        setLastPlayed(id, 1, 1);\n        return { s: 1, e: 1 };\n    }\n}\n\nfunction setLastPlayed(id, season, episode) {\n    const lastPlayed = get();\n    const index = lastPlayed.findIndex((i) => i.id === id);\n\n    if (index !== -1) lastPlayed[index] = { id, s: season, e: episode };\n    else lastPlayed.push({ id, s: season, e: episode });\n\n    set(lastPlayed);\n}\n\nfunction resetLastPlayed() {\n    localStorage.removeItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.lastPlayed);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/last-played.js?");

/***/ }),

/***/ "./src/scripts/store/pages.js":
/*!************************************!*\
  !*** ./src/scripts/store/pages.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPage: () => (/* binding */ getPage),\n/* harmony export */   getPages: () => (/* binding */ getPages),\n/* harmony export */   setPage: () => (/* binding */ setPage)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const pages = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.pages);\n    return JSON.parse(pages);\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.pages, JSON.stringify(data));\n}\n\nfunction getPages() {\n    const pages = get();\n\n    if (pages) {\n        return pages;\n    } else {\n        const defaultPages = Object.assign({}, ..._config_js__WEBPACK_IMPORTED_MODULE_0__.config.header.links.filter((l) => l.text !== \"Settings\").map((l) => ({ [l.text]: true })));\n\n        set(defaultPages);\n        return defaultPages;\n    }\n}\n\nfunction getPage(name) {\n    const pages = getPages();\n    const page = Object.entries(pages).find(([key]) => key === name);\n\n    return page ? page[1] : null;\n}\n\nfunction setPage(name, value) {\n    const pages = getPages();\n    pages[name] = value;\n    set(pages);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/pages.js?");

/***/ }),

/***/ "./src/scripts/store/provider.js":
/*!***************************************!*\
  !*** ./src/scripts/store/provider.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getProvider: () => (/* binding */ getProvider),\n/* harmony export */   setProvider: () => (/* binding */ setProvider)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const provider = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.provider);\n    return provider;\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.provider, data);\n}\n\nfunction getProvider() {\n    const provider = get();\n\n    if (provider) {\n        return provider;\n    } else {\n        const defaultProvider = Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_0__.providers)[0];\n        setProvider(defaultProvider);\n        return defaultProvider;\n    }\n}\n\nfunction setProvider(provider) {\n    set(provider);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/provider.js?");

/***/ }),

/***/ "./src/scripts/store/sections.js":
/*!***************************************!*\
  !*** ./src/scripts/store/sections.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSection: () => (/* binding */ getSection),\n/* harmony export */   getSections: () => (/* binding */ getSections),\n/* harmony export */   setSection: () => (/* binding */ setSection)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const sections = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.sections);\n    return JSON.parse(sections);\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.sections, JSON.stringify(data));\n}\n\nfunction getSections() {\n    const sections = get();\n\n    if (sections) {\n        return sections;\n    } else {\n        set(_config_js__WEBPACK_IMPORTED_MODULE_0__.sections);\n        return _config_js__WEBPACK_IMPORTED_MODULE_0__.sections;\n    }\n}\n\nfunction getSection(name) {\n    const sections = getSections();\n    const section = Object.entries(sections).find(([key]) => key === name);\n\n    return section ? section[1] : null;\n}\n\nfunction setSection(name, value) {\n    const sections = getSections();\n    sections[name] = value;\n    set(sections);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/sections.js?");

/***/ }),

/***/ "./src/scripts/store/theme.js":
/*!************************************!*\
  !*** ./src/scripts/store/theme.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTheme: () => (/* binding */ getTheme),\n/* harmony export */   getThemeAbsolute: () => (/* binding */ getThemeAbsolute),\n/* harmony export */   setTheme: () => (/* binding */ setTheme)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n/* harmony import */ var _components_theme_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/theme.js */ \"./src/scripts/components/theme.js\");\n\n\n\nfunction get() {\n    const theme = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.theme);\n    return theme;\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.theme, data);\n}\n\nfunction getTheme() {\n    const theme = get();\n\n    if (theme) {\n        return theme;\n    } else {\n        const defaultTheme = Object.keys(_config_js__WEBPACK_IMPORTED_MODULE_0__.themes)[0];\n        setTheme(defaultTheme);\n        return defaultTheme;\n    }\n}\n\nfunction getThemeAbsolute() {\n    const theme = getTheme();\n\n    if (theme === \"auto\") {\n        return (window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n            ? \"dark\"\n            : \"light\";\n    } else {\n        return theme;\n    }\n}\n\nfunction setTheme(theme) {\n    set(theme);\n    (0,_components_theme_js__WEBPACK_IMPORTED_MODULE_1__.initializeTheme)();\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/theme.js?");

/***/ }),

/***/ "./src/scripts/store/watch-sections.js":
/*!*********************************************!*\
  !*** ./src/scripts/store/watch-sections.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getWatchSection: () => (/* binding */ getWatchSection),\n/* harmony export */   getWatchSections: () => (/* binding */ getWatchSections),\n/* harmony export */   setWatchSection: () => (/* binding */ setWatchSection)\n/* harmony export */ });\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ \"./src/scripts/config.js\");\n\n\nfunction get() {\n    const watchSections = localStorage.getItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.watchSections);\n    return JSON.parse(watchSections);\n}\n\nfunction set(data) {\n    localStorage.setItem(_config_js__WEBPACK_IMPORTED_MODULE_0__.store.names.watchSections, JSON.stringify(data));\n}\n\nfunction getWatchSections() {\n    const watchSections = get();\n\n    if (watchSections) {\n        return watchSections;\n    } else {\n        set(_config_js__WEBPACK_IMPORTED_MODULE_0__.watchSections);\n        return _config_js__WEBPACK_IMPORTED_MODULE_0__.watchSections;\n    }\n}\n\nfunction getWatchSection(name) {\n    const watchSections = getWatchSections();\n    const watchSection = Object.entries(watchSections).find(([key]) => key === name);\n\n    return watchSection ? watchSection[1] : null;\n}\n\nfunction setWatchSection(name, value) {\n    const watchSections = getWatchSections();\n    watchSections[name] = value;\n    set(watchSections);\n}\n\n//# sourceURL=webpack://filmhaven-site/./src/scripts/store/watch-sections.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/scripts/main.js");
/******/ 	
/******/ })()
;